{"componentChunkName":"component---themes-advanced-src-templates-post-query-ts","path":"/vue-react-render","result":{"data":{"mdx":{"body":"var _excluded = [\"components\"];\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction _objectWithoutProperties(e, t) { if (null == e) return {}; var o, r, i = _objectWithoutPropertiesLoose(e, t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); for (r = 0; r < n.length; r++) o = n[r], t.indexOf(o) >= 0 || {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]); } return i; }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (e.indexOf(n) >= 0) continue; t[n] = r[n]; } return t; }\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\nvar _frontmatter = {\n  \"title\": \"渲染流程：Vue vs React\",\n  \"description\": \"对比Vue2和React15渲染流程中的原理和差异\",\n  \"datePublished\": \"2023-01-04T08:05:58.604Z\",\n  \"dateModified\": \"2023-01-04T08:05:58.610Z\",\n  \"cover\": \"../static/assets/vuevsreact.jpeg\",\n  \"coverAlt\": \"cover\",\n  \"slug\": \"vue-react-render\",\n  \"category\": \"经验总结\",\n  \"tags\": [\"前端\", \"架构\", \"Vue2\", \"React\"]\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"\\u672C\\u6587\\u4E3B\\u8981\\u4ECE\\u6E32\\u67D3\\u6D41\\u7A0B\\u4E2D\\u5BF9\\u6BD4Vue\\u548CReact\\u7684\\u539F\\u7406\\u548C\\u7ED3\\u6784\\u5DEE\\u5F02\\u3002\\u5176\\u4E2DVue\\u4F7F\\u7528\\u7684\\u662FVue2\\uFF0CReact\\u662FReact15\\u3002\"), mdx(\"h2\", null, \"\\u67B6\\u6784\"), mdx(\"h3\", null, \"Vue\"), mdx(\"p\", null, \"Vue\\u4E2D\\uFF0C\\u6BCF\\u4E2A\\u7EC4\\u4EF6\\u90FD\\u6709\\u4E00\\u4E2AVue\\u5B9E\\u4F8B\\u3002\\u6E32\\u67D3\\u3001\\u6302\\u8F7D\\u3001\\u5378\\u8F7D\\u3001\\u5B50\\u7EC4\\u4EF6\\u7BA1\\u7406\\u3001\\u54CD\\u5E94\\u5F0F\\u90FD\\u5728\\u8FD9\\u4E2A\\u5B9E\\u4F8B\\u5185\\u8FDB\\u884C\\u3002\\u6240\\u6709\\u529F\\u80FD\\u4EE5\\u5B9E\\u4F8B\\u4E3A\\u8F7D\\u4F53\\u5B9E\\u73B0\\u3002\"), mdx(\"p\", null, \"\\u6BCF\\u4E2AVue\\u5B9E\\u4F8B\\u5185\\uFF0C\\u901A\\u8FC7render\\u51FD\\u6570\\uFF0C\\u5F97\\u5230VNode\\u6811\\u5E76\\u5B58\\u50A8\\u4E0B\\u6765\\u3002\\u5728\\u5B9E\\u4F8B\\u7684\\u6E32\\u67D3\\u8FC7\\u7A0B\\u4E2D\\uFF0C\\u901A\\u8FC7\\u6DF1\\u5EA6\\u4F18\\u5148\\u904D\\u5386+\\u53CC\\u7AEFdiff\\u7B97\\u6CD5\\u5BF9\\u6BD4\\u65B0\\u65E7VNode\\u6811\\uFF0C\\u5E76patch\\u76F8\\u5E94\\u7684dom\\u53D8\\u66F4\\u3002\\u5BF9\\u4E8E\\u5B50\\u7EC4\\u4EF6\\uFF0C\\u8981\\u4E48\\u5B9E\\u4F8B\\u5316\\u65B0\\u7684\\uFF0C\\u8981\\u4E48\\u4ECE\\u7EC4\\u4EF6\\u7F13\\u5B58\\u4E2D\\u83B7\\u53D6\\u3002\\u5B50\\u7EC4\\u4EF6\\u7684\\u6E32\\u67D3\\u4EA4\\u7ED9\\u5B50\\u7EC4\\u4EF6\\u81EA\\u5DF1\\u53BB\\u6267\\u884C\\u3002\\u4ECE\\u800C\\u5B9E\\u73B0\\u6574\\u4E2A\\u7EC4\\u4EF6\\u6811\\u7684\\u6E32\\u67D3\\u3002\"), mdx(\"h3\", null, \"React\"), mdx(\"p\", null, \"React\\u4E2D\\uFF0C\\u6E32\\u67D3\\u5206\\u4E3AReconciler\\uFF08\\u534F\\u8C03\\uFF09\\u548CRenderer\\uFF08\\u6E32\\u67D3\\uFF09\\u300216.8\\u7248\\u672C\\u4E4B\\u524D\\u4F7F\\u7528\\u7684\\u662F\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://zh-hans.legacy.reactjs.org/docs/implementation-notes.html\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow noopener noreferrer\"\n  }, \"Stack Reconciler\"), \"\\u3002\\u5305\\u542B\\u6846\\u67B6\\u4ECE\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"ReactDom.render\"), \"\\u5165\\u53E3\\u5F00\\u59CB\\uFF0C\\u6DF1\\u5EA6\\u904D\\u5386\\u6E32\\u67D3\\u6574\\u4E2A\\u7EC4\\u4EF6\\u6811\\u3002React\\u5728\\u6E32\\u67D3\\u8FC7\\u7A0B\\u4E2D\\uFF0C\\u4F1A\\u5C06\\u6BCF\\u4E2Ajsx\\u8282\\u70B9\\u90FD\\u5BF9\\u5E94\\u521B\\u5EFA\\u4E00\\u4E2A\\u5185\\u90E8\\u5B9E\\u4F8B\\uFF0C\\u5305\\u542B\", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"\\u7EC4\\u5408\\u7EC4\\u4EF6\"), \"\\uFF08CompositeComponent\\uFF09\\u548C\", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"\\u5BBF\\u4E3B\\u7EC4\\u4EF6\"), \"\\uFF08HostComponent\\uFF09\\u4E24\\u79CD\\u7C7B\\u578B\\u3002\\u7EC4\\u5408\\u7EC4\\u4EF6\\u4E0E\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"<App />\"), \"\\u8FD9\\u6837\\u7684React\\u7EC4\\u4EF6\\u8282\\u70B9\\u5BF9\\u5E94\\u3002\\u5BBF\\u4E3B\\u7EC4\\u4EF6\\u4E0E\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"<div />\"), \"\\u8FD9\\u6837\\u7684\\u539F\\u751F\\u8282\\u70B9\\u5BF9\\u5E94\\u3002\\u5185\\u90E8\\u5B9E\\u4F8B\\u91CC\\u5305\\u542B\\u4E86\\u6BCF\\u4E2A\\u8282\\u70B9\\u9700\\u8981\\u7684\\u4E0A\\u4E0B\\u6587\\u4FE1\\u606F\\u3002\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"\\u5B83\\u7684\\u5DE5\\u4F5C\\u673A\\u5236\\u7C7B\\u4F3C\\u4E8E\\u51FD\\u6570\\u8C03\\u7528\\u6808\\uFF0C\\u6240\\u4EE5\\u79F0\\u4E3AStack Reconciler\\u3002\\u5305\\u62ECmount\\u3001unmount\\u3001\\u66F4\\u65B0\\u7B49\\uFF0C\\u90FD\\u662F\\u9012\\u5F52\\u8C03\\u7528+\\u6DF1\\u5EA6\\u4F18\\u5148\\u3002\")), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"\\u5BBF\\u4E3B\\u7EC4\\u4EF6\"), \"mount\\u65F6\\uFF0C\\u6839\\u636E\\u5F53\\u524D\\u7684jsx\\u865A\\u62DF\\u8282\\u70B9\\uFF08element\\uFF09\\u3002\\u521B\\u5EFA\\u6216\\u66F4\\u65B0\\u5BF9\\u5E94\\u7684\\u539F\\u751F\\u8282\\u70B9\\uFF08node\\uFF09\\u3002\\u7136\\u540E\\u904D\\u5386children\\u5E76\\u6328\\u4E2A\\u521B\\u5EFA\\u5185\\u90E8\\u5B9E\\u4F8B\\uFF0C\\u5F97\\u5230\\u5B50\\u5185\\u90E8\\u5B9E\\u4F8B\\u5217\\u8868\\uFF08renderedChildren\\uFF09\\u3002\\u518D\\u8C03\\u7528\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"renderedChildren.forEach.mount()\"), \"\\u5F80\\u6DF1\\u5C42\\u6267\\u884C\\u3002mount\\u51FD\\u6570\\u6267\\u884C\\u8FC7\\u7A0B\\u4E2D\\uFF0C\\u5B58\\u50A8element\\u3001node\\u548CrenderedChildren\\u3002\\u51FD\\u6570\\u6700\\u540Ereturn node\\u3002\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"\\u7EC4\\u5408\\u7EC4\\u4EF6\"), \"mount\\u65F6\\uFF0C\\u6839\\u636E\\u5F53\\u524D\\u7684jsx\\u865A\\u62DF\\u8282\\u70B9\\uFF08element\\uFF09\\u3002\\u5982\\u679C\\u662Fclass\\u7EC4\\u4EF6\\u5219\\u5B9E\\u4F8B\\u5316\\uFF0C\\u6267\\u884C\\u751F\\u547D\\u5468\\u671F\\uFF0C\\u6267\\u884Crender\\u51FD\\u6570\\u3002\\u5982\\u679C\\u662F\\u51FD\\u6570\\u7EC4\\u4EF6\\u5219\\u65E0\\u9700\\u5B9E\\u4F8B\\u5316\\uFF08\\u672C\\u8EAB\\u5373render\\u51FD\\u6570\\uFF09\\u3002\\u6267\\u884Crender\\u540E\\u5F97\\u5230\\u7EC4\\u4EF6\\u6839jsx\\u8282\\u70B9\\uFF0C\\u5BF9\\u5E94\\u521B\\u5EFA\\u5185\\u90E8\\u5B9E\\u4F8B\\uFF08renderedComponent\\uFF09\\u3002\\u7EC4\\u5408\\u7EC4\\u4EF6\\u65E0\\u9700\\u904D\\u5386children\\uFF0C\\u56E0\\u4E3A\\u6C38\\u8FDC\\u53EA\\u6709\\u4E00\\u4E2A\\u6839\\u8282\\u70B9\\u3002\\u51FD\\u6570\\u6267\\u884C\\u8FC7\\u7A0B\\u4E2D\\u5B58\\u50A8element\\u3001renderedComponent\\u3002\\u51FD\\u6570\\u6700\\u540E\\u8FD4\\u56DE\\u503C\\u4E3A\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"return renderedComponent.mount()\"), \"\\uFF0C\\u5373\\u7EE7\\u7EED\\u6267\\u884C\\u5B50\\u5185\\u90E8\\u5B9E\\u4F8B\\u7684mount\\u51FD\\u6570\\uFF0C\\u5E76\\u53D6\\u5176\\u8FD4\\u56DE\\u503C\\u3002\\u8FD9\\u4E48\\u770B\\u6765\\uFF0C\\u5B83\\u6700\\u7EC8\\u8FD4\\u56DE\\u7684\\u662F\\u79BB\\u5B83\\u6DF1\\u5EA6\\u6700\\u5C0F\\u7684\\u5B50\\u5BBF\\u4E3B\\u7EC4\\u4EF6\\u7684node\\u3002\\u6267\\u884C\\u8FC7\\u7A0B\\u4E2D\\u901A\\u77E5renderer\\u6302\\u8F7Ddom\\u3002\"), mdx(\"h3\", null, \"\\u6570\\u636E\\u7ED3\\u6784\\u5BF9\\u6BD4\"), mdx(\"p\", null, \"\\u73B0\\u6709\\u5982\\u4E0B\\u7684\\u4E00\\u4E2A\\u6A21\\u7248\\uFF1A\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"html\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-html\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-html\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token tag\"\n  }, mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token tag\"\n  }, mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"<\"), \"App\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \">\")), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token tag\"\n  }, mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token tag\"\n  }, mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"<\"), \"h1\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \">\")), \"App\\u6807\\u9898\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token tag\"\n  }, mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token tag\"\n  }, mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"</\"), \"h1\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \">\")), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token tag\"\n  }, mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token tag\"\n  }, mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"<\"), \"Detail\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"/>\")), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token tag\"\n  }, mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token tag\"\n  }, mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"</\"), \"App\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \">\")), \"\\n\\n// App\\u7EC4\\u4EF6\\uFF1A\\n\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token tag\"\n  }, mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token tag\"\n  }, mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"<\"), \"div\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \">\")), \"{children}\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token tag\"\n  }, mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token tag\"\n  }, mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"</\"), \"div\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \">\")), \"\\n\\n// Detail\\u7EC4\\u4EF6\\uFF1A\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token tag\"\n  }, mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token tag\"\n  }, mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"<\"), \"button\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"/>\"))))), mdx(\"p\", null, \"\\u5728Vue\\u91CC\\u7684\\u5B58\\u50A8\\u7ED3\\u6784\\u4E3A\\uFF1A\"), mdx(\"img\", {\n    \"src\": \"assets/vue-render-struct.jpg\",\n    \"alt\": \"Vue实例结构\",\n    \"title\": \"Vue render struct\"\n  }), mdx(\"p\", null, \"\\u56FE\\u4E2D\\u6BCF\\u4E2A\\u5B9E\\u7EBF\\u6846\\u90FD\\u662F\\u4E00\\u4E2AVNode\\uFF0C\\u6BCF\\u4E2AVue\\u7EC4\\u4EF6\\u5BF9\\u5E94\\u4E00\\u4E2AVue\\u5B9E\\u4F8B\\u3002\"), mdx(\"p\", null, \"\\u5728vue\\u4E2D\\uFF0C\\u7236\\u7EA7\\u5B9E\\u4F8B\\u5305\\u542B\\u5B50\\u7EA7\\u5B9E\\u4F8B\\uFF1AApp\\u5B9E\\u4F8B\\u5305\\u542B\\u4E00\\u4E2Adiv\\u6839\\u7EA7VNode\\uFF0Cdiv\\u4E0B\\u5305\\u542B\\u4E00\\u4E2Ah1\\u548C\\u4E00\\u4E2ADetail\\u7684VNode\\uFF0C\\u5176\\u4E2DDetail\\u865A\\u62DF\\u8282\\u70B9\\u5BF9\\u5E94\\u4E86Detail\\u5B9E\\u4F8B\\uFF0CDetail\\u5B9E\\u4F8B\\u4E0B\\u53C8\\u5305\\u542B\\u4E86\\u4E00\\u4E2Abutton\\u7684VNode\\u3002\"), mdx(\"p\", null, \"\\u540C\\u6837\\u7684\\u6A21\\u7248\\uFF0C\\u5728React\\u91CC\\u7684\\u5B58\\u50A8\\u7ED3\\u6784\\u4E3A\\uFF1A\"), mdx(\"img\", {\n    \"src\": \"assets/react-render-sturct.jpg\",\n    \"alt\": \"React实例结构\",\n    \"title\": \"React render struct\"\n  }), mdx(\"p\", null, \"\\u56FE\\u4E2D\\u6BCF\\u4E2A\\u5706\\u89D2\\u6846\\u90FD\\u662F\\u4E00\\u4E2A\\u5185\\u90E8\\u5B9E\\u4F8B\\u3002\\u7EC4\\u5408\\u7EC4\\u4EF6\\u603B\\u662F\\u6709\\u4E00\\u4E2A\\u4E14\\u53EA\\u6709\\u4E00\\u4E2ArenderedComponent\\uFF0C\\u6307\\u5411\\u53E6\\u4E00\\u4E2A\\u5185\\u90E8\\u5B9E\\u4F8B\\u3002\\u5BBF\\u4E3B\\u7EC4\\u4EF6\\u7684renderedChildren\\u53EF\\u80FD\\u5305\\u542B\\u591A\\u4E2A\\uFF0C\\u6307\\u5411\\u5176\\u4ED6\\u7684\\u5185\\u90E8\\u5B9E\\u4F8B\\u3002\\u6B64\\u5916\\uFF0C\\u5BBF\\u4E3B\\u7EC4\\u4EF6\\u4F1Areturn dom\\u8282\\u70B9\\u5143\\u7D20\\u3002\\u800C\\u7EC4\\u5408\\u7EC4\\u4EF6\\u4F1Areturn\\u7B2C\\u4E00\\u4E2A\\u5BBF\\u4E3B\\u7EC4\\u4EF6\\u7684return\\u503C\\u3002\"), mdx(\"h2\", null, \"Diff\\u66F4\\u65B0\"), mdx(\"h3\", null, \"Vue\"), mdx(\"p\", null, \"Vue\\u4F7F\\u7528\\u6DF1\\u5EA6\\u4F18\\u5148\\uFF0C\\u5BF9\\u6BCF\\u4E2A\\u5B9E\\u4F8B\\u4E0B\\u7684VNode tree\\u8FDB\\u884C\\u9012\\u5F52\\u6E32\\u67D3\\uFF0C\\u540C\\u4E00\\u7EA7\\u7684VNode trees\\u4F7F\\u7528\\u53CC\\u7AEFdiff\\u7B97\\u6CD5\\u8FDB\\u884C\\u6700\\u5C0F\\u5316\\u7684\\u5DEE\\u5F02\\u5BF9\\u6BD4\\uFF0C\\u5E76\\u540C\\u6B65\\u64CD\\u4F5C\\u771F\\u5B9Edom\\u6811\\u3002\"), mdx(\"p\", null, \"\\u53CC\\u7AEFdiff\\u7B97\\u6CD5\\uFF0C\\u4F7F\\u7528\\u56DB\\u4E2A\\u6307\\u9488\\uFF0C\\u901A\\u8FC7\\u5BF9\\u65B0\\u65E7VNode\\u6570\\u7EC4\\u7684\\u5934\\u5934\\u3001\\u5C3E\\u5C3E\\u3001\\u5934\\u5C3E\\u3001\\u5C3E\\u5934\\u7684\\u4FE9\\u4FE9\\u5BF9\\u6BD4\\uFF0C\\u5339\\u914D\\u8282\\u70B9\\u3002\\u8FD9\\u56DB\\u79CD\\u5BF9\\u6BD4\\u80FD\\u8986\\u76D680%\\u4EE5\\u4E0A\\u7684\\u5217\\u8868\\u53D8\\u66F4\\u7684\\u573A\\u666F\\u3002\\u5982\\u679C\\u8FD9\\u56DB\\u79CD\\u90FD\\u4E0D\\u6EE1\\u8DB3\\uFF0C\\u90A3\\u4F1A\\u76F4\\u63A5\\u5728\\u65E7\\u6570\\u7EC4\\u4E2D\\u67E5\\u627E\\uFF0C\\u5982\\u679C\\u8FD8\\u672A\\u67E5\\u627E\\u5230\\uFF0C\\u5219\\u8BF4\\u660E\\u662F\\u65B0\\u589E\\u8282\\u70B9\\u3002\\u56DB\\u6307\\u9488\\u904D\\u5386\\u7ED3\\u675F\\u540E\\uFF0C\\u5982\\u679C\\u65B0\\u6570\\u7EC4\\u8FD8\\u6709\\u5269\\u4F59\\uFF0C\\u5219\\u8BF4\\u660E\\u65E7\\u6570\\u7EC4\\u4E2D\\u627E\\u4E0D\\u5230\\uFF0C\\u8981\\u6DFB\\u52A0dom\\u3002\\u5982\\u679C\\u65E7\\u6570\\u7EC4\\u8FD8\\u6709\\u5269\\u4F59\\uFF0C\\u5219\\u8BF4\\u660E\\u65B0\\u6570\\u7EC4\\u4E2D\\u627E\\u4E0D\\u5230\\uFF0C\\u8981\\u5220\\u9664dom\\u3002\"), mdx(\"h3\", null, \"React\"), mdx(\"p\", null, \"React\\u5728\\u9996\\u6B21\\u6302\\u8F7D\\u5B8C\\u540E\\uFF0C\\u4FBF\\u901A\\u8FC7\\u5185\\u90E8\\u5B9E\\u4F8B\\u4E4B\\u95F4\\u7684\\u76F8\\u4E92\\u5F15\\u7528\\uFF0C\\u5F97\\u5230\\u4E86\\u4E00\\u4E2A\\u5185\\u90E8\\u5B9E\\u4F8B\\u7684\\u6811\\u3002\\u6E32\\u67D3\\u66F4\\u65B0\\u65F6\\uFF0C\\u7531\\u6839\\u5185\\u90E8\\u5B9E\\u4F8B\\uFF0C\\u6DF1\\u5EA6\\u9012\\u5F52\\u904D\\u5386\\uFF0C\\u8C03\\u7528\\u5B9E\\u4F8B\\u7684receive\\u65B9\\u6CD5\\u3002receive\\u65B9\\u6CD5\\u63A5\\u6536\\u4E00\\u4E2A\\u53EF\\u4EE5\\u590D\\u7528\\u7684\\u65B0jsx\\u8282\\u70B9\\uFF08element\\uFF09\\uFF0C\\u5373key\\u548Ctype\\u90FD\\u76F8\\u540C\\u3002\"), mdx(\"p\", null, \"\\u5728\\u7EC4\\u5408\\u7EC4\\u4EF6\\u7684receive\\u65B9\\u6CD5\\u4E2D\\uFF0C\\u5982\\u679C\\u662Fclass\\u7EC4\\u4EF6\\uFF0C\\u66F4\\u65B0props\\uFF0C\\u6267\\u884C\\u751F\\u547D\\u5468\\u671F\\uFF0C\\u5E76\\u8C03\\u7528render\\u65B9\\u6CD5\\uFF1B\\u5982\\u679C\\u662F\\u51FD\\u6570\\u7EC4\\u4EF6\\uFF0C\\u6267\\u884C\\u51FD\\u6570\\u3002\\u5F97\\u5230\\u5B50jsx\\u865A\\u62DF\\u8282\\u70B9\\u3002\\u4E0E\\u65E7\\u7684\\u865A\\u62DF\\u8282\\u70B9\\u5BF9\\u6BD4\\uFF0C\\u5982\\u679Ckey\\u548Ctype\\u90FD\\u4E00\\u6837\\uFF0C\\u5219\\u53EF\\u4EE5\\u590D\\u7528\\u5B50\\u5185\\u90E8\\u5B9E\\u4F8B\\uFF0C\\u8C03\\u7528\\u5B50\\u5185\\u90E8\\u5B9E\\u4F8B\\u7684receive\\u65B9\\u6CD5\\uFF0C\\u5F62\\u6210\\u9012\\u5F52\\u3002\\u5982\\u679C\\u4E0D\\u53EF\\u590D\\u7528\\uFF0C\\u5219\\u91CD\\u65B0\\u521B\\u5EFA\\u5B50\\u5185\\u90E8\\u5B9E\\u4F8B\\u3002\\u5E76unmount\\u65E7\\u7684\\u5B50\\u5185\\u90E8\\u5B9E\\u4F8B\\uFF0Cmount\\u65B0\\u7684\\u5B50\\u5185\\u90E8\\u5B9E\\u4F8B\\u3002\\u540C\\u65F6\\u901A\\u77E5renderer\\u5378\\u8F7Ddom\\u3002\"), mdx(\"p\", null, \"\\u5728\\u5BBF\\u4E3B\\u7EC4\\u4EF6\\u7684receive\\u65B9\\u6CD5\\u4E2D\\uFF0C\\u9996\\u5148\\u66F4\\u65B0props\\u4E3A\\u65B0\\u7684element\\u7684props\\u3002\\u63A5\\u7740\\u5F00\\u59CB\\u904D\\u5386\\u5904\\u7406props.children\\u3002\\u5BF9\\u6BD4\\u65E7\\u7684\\u5B50\\u5185\\u90E8\\u5B9E\\u4F8B\\u6570\\u7EC4\\uFF08prevRenderedChildren\\uFF09\\u548C\\u65B0\\u7684\\u6570\\u7EC4\\uFF08nextRenderedChildren\\uFF09\\u3002\\u6570\\u7EC4\\u904D\\u5386\\u4E2D\\uFF0C\\u627E\\u5230\\u53EF\\u4EE5\\u590D\\u7528\\u7684\\uFF0C\\u4E5F\\u662F\\u76F4\\u63A5\\u8C03\\u7528\\u8BE5\\u5B50\\u5185\\u90E8\\u5B9E\\u4F8B\\u7684receive\\u65B9\\u6CD5\\uFF0C\\u5F80\\u4E0B\\u9012\\u5F52\\uFF0C\\u5982\\u679C\\u5B58\\u5728\\u4F4D\\u7F6E\\u79FB\\u52A8\\uFF0C\\u6DFB\\u52A0\\u4E00\\u4E2A\\u201CMOVE\\u201D\\u64CD\\u4F5C\\u5230\\u64CD\\u4F5C\\u961F\\u5217\\uFF08operationQueue\\uFF09\\u91CC\\u3002\\u5982\\u679C\\u627E\\u4E0D\\u5230\\uFF0C\\u5219\\u9700\\u8981\\u65B0\\u589E\\uFF0C\\u6DFB\\u52A0\\u4E00\\u4E2A\\u201CADD\\u201D\\u64CD\\u4F5C\\u5230\\u64CD\\u4F5C\\u961F\\u5217\\u91CC\\u3002\\u5982\\u679C\\u65E7\\u6570\\u7EC4\\u5B58\\u5728\\u800C\\u65B0\\u6570\\u7EC4\\u4E0D\\u5B58\\u5728\\uFF0C\\u5219\\u9700\\u8981\\u5220\\u9664\\uFF0C\\u6DFB\\u52A0\\u4E00\\u4E2A\\u201CREMOVE\\u201D\\u64CD\\u4F5C\\u5230\\u64CD\\u4F5C\\u961F\\u5217\\u91CC\\u3002\\u6700\\u7EC8\\u904D\\u5386\\u64CD\\u4F5C\\u961F\\u5217\\uFF0C\\u901A\\u77E5renderer\\u66F4\\u65B0dom\\u3002\"), mdx(\"p\", null, \"\\u603B\\u7ED3\\u4E0B\\u6765\\u5C31\\u662F\\uFF0C\\u7EC4\\u5408\\u7EC4\\u4EF6\\u6BCF\\u6B21\\u6E32\\u67D3\\u66F4\\u65B0\\u90FD\\u6267\\u884Crender\\u51FD\\u6570\\uFF0C\\u5E76\\u5BF9\\u6BD4renderedComponent\\u662F\\u5426\\u53EF\\u4EE5\\u590D\\u7528\\u3002\\u5BBF\\u4E3B\\u7EC4\\u4EF6\\u6BCF\\u6B21\\u6E32\\u67D3\\u66F4\\u65B0\\uFF0C\\u90FD\\u66F4\\u65B0props\\uFF0C\\u5BF9\\u6BD4props.children\\u8003\\u8651renderedChildren\\u4E2D\\u54EA\\u4E9B\\u53EF\\u4EE5\\u590D\\u7528\\u3002\\u590D\\u7528\\u7684\\u5219\\u5411\\u4E0B\\u9012\\u5F52\\u8C03\\u7528receive\\u65B9\\u6CD5\\u3002\\u4E0D\\u590D\\u7528\\u7684\\u5219\\u8C03\\u7528renderer\\u66F4\\u65B0dom\\u3002\"), mdx(\"h2\", null, \"\\u7B80\\u5355\\u7248\\u6E90\\u7801\"), mdx(\"p\", null, \"\\u672C\\u6587\\u7684\\u7ED3\\u6784\\u5206\\u6790\\u662F\\u57FA\\u4E8E\\u6211\\u9020\\u8F6E\\u5B50\\u7684\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/missmess/leon-build-wheel/tree/main/packages/vuelon\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow noopener noreferrer\"\n  }, \"Vuelon\"), \"\\u548C\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/missmess/leon-build-wheel/tree/main/packages/reacteon\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow noopener noreferrer\"\n  }, \"Reacteon\"), \"\\u3002\"), mdx(\"p\", null, \"\\u6709\\u5174\\u8DA3\\u7684\\u53EF\\u4EE5\\u540C\\u65F6\\u4ECEnpm\\u5305\\u4E0B\\u8F7D\\uFF0C\\u76F4\\u63A5\\u5728\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://npmjs.com\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow noopener noreferrer\"\n  }, \"npmjs.com\"), \"\\u641C\\u7D22\\u5305\\u5373\\u53EF\\uFF1AVuelon\\u548CReacteon\\u3002\"));\n}\n;\nMDXContent.isMDXComponent = true;","timeToRead":1,"excerpt":"本文主要从渲染流程中对比Vue和React的原理和结构差异。其中Vue使用的是Vue2，React是React15。 架构 Vue Vue中，每个组件都有一个Vue实例。渲染、挂载、卸载、子组件管理、响应式都在这个实例内进行。所有功能以实例为载体实现。 每个Vue…","frontmatter":{"title":"渲染流程：Vue vs React","description":"对比Vue2和React15渲染流程中的原理和差异","cover":{"publicURL":"/leon-blog/static/569bdc688231d02bc094191ee14f8ee4/vuevsreact.jpeg","childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAIDAQT/xAAVAQEBAAAAAAAAAAAAAAAAAAABBP/aAAwDAQACEAMQAAABjHOdmUYaP//EABoQAAICAwAAAAAAAAAAAAAAAAECABEDECL/2gAIAQEAAQUCBmTtmWje/wD/xAAYEQACAwAAAAAAAAAAAAAAAAACAxARIf/aAAgBAwEBPwFYbcf/xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAgEBPwFX/8QAGBAAAgMAAAAAAAAAAAAAAAAAAAERICH/2gAIAQEABj8CEpyv/8QAGRAAAwEBAQAAAAAAAAAAAAAAAAERIRBR/9oACAEBAAE/IcLSIuPBDUtKnf/aAAwDAQACAAMAAAAQgw//xAAXEQADAQAAAAAAAAAAAAAAAAABEBFR/9oACAEDAQE/EBVhf//EABYRAQEBAAAAAAAAAAAAAAAAAAEREP/aAAgBAgEBPxAI3H//xAAbEAEAAgMBAQAAAAAAAAAAAAABESEAQYEQMf/aAAgBAQABPxDSI+JuctaBm1PcV+A04ombCDnv/9k="},"backgroundColor":"transparent","images":{"fallback":{"src":"/leon-blog/static/569bdc688231d02bc094191ee14f8ee4/d9a44/vuevsreact.jpg","srcSet":"/leon-blog/static/569bdc688231d02bc094191ee14f8ee4/73cc4/vuevsreact.jpg 342w,\n/leon-blog/static/569bdc688231d02bc094191ee14f8ee4/5dd5c/vuevsreact.jpg 684w,\n/leon-blog/static/569bdc688231d02bc094191ee14f8ee4/d9a44/vuevsreact.jpg 1368w","sizes":"(min-width: 1368px) 1368px, 100vw"},"sources":[{"srcSet":"/leon-blog/static/569bdc688231d02bc094191ee14f8ee4/30d20/vuevsreact.avif 342w,\n/leon-blog/static/569bdc688231d02bc094191ee14f8ee4/e9751/vuevsreact.avif 684w,\n/leon-blog/static/569bdc688231d02bc094191ee14f8ee4/9f370/vuevsreact.avif 1368w","type":"image/avif","sizes":"(min-width: 1368px) 1368px, 100vw"},{"srcSet":"/leon-blog/static/569bdc688231d02bc094191ee14f8ee4/3aa89/vuevsreact.webp 342w,\n/leon-blog/static/569bdc688231d02bc094191ee14f8ee4/13234/vuevsreact.webp 684w,\n/leon-blog/static/569bdc688231d02bc094191ee14f8ee4/c54dc/vuevsreact.webp 1368w","type":"image/webp","sizes":"(min-width: 1368px) 1368px, 100vw"}]},"width":1368,"height":764}}},"coverAlt":"cover","datePublished":"2023-01-04T08:05:58.604Z","dateModified":"2023-01-04T08:05:58.610Z","category":"经验总结","tags":["前端","架构","Vue2","React"]},"fields":{"slug":"/vue-react-render","route":"/vue-react-render","pathName":"/leon-blog/vue-react-render","url":"https://missmess.github.io/leon-blog/vue-react-render"},"internal":{"content":"---\ntitle: 渲染流程：Vue vs React\ndescription: 对比Vue2和React15渲染流程中的原理和差异\ndatePublished: 2023-01-04T08:05:58.604Z\ndateModified: 2023-01-04T08:05:58.610Z\ncover: ../static/assets/vuevsreact.jpeg\ncoverAlt: cover\nslug: vue-react-render\ncategory: 经验总结\ntags:\n  - 前端\n  - 架构\n  - Vue2\n  - React\n---\n\n本文主要从渲染流程中对比Vue和React的原理和结构差异。其中Vue使用的是Vue2，React是React15。\n\n## 架构\n\n### Vue\n\nVue中，每个组件都有一个Vue实例。渲染、挂载、卸载、子组件管理、响应式都在这个实例内进行。所有功能以实例为载体实现。\n\n每个Vue实例内，通过render函数，得到VNode树并存储下来。在实例的渲染过程中，通过深度优先遍历+双端diff算法对比新旧VNode树，并patch相应的dom变更。对于子组件，要么实例化新的，要么从组件缓存中获取。子组件的渲染交给子组件自己去执行。从而实现整个组件树的渲染。\n\n### React\n\nReact中，渲染分为Reconciler（协调）和Renderer（渲染）。16.8版本之前使用的是[Stack Reconciler](https://zh-hans.legacy.reactjs.org/docs/implementation-notes.html)。包含框架从`ReactDom.render`入口开始，深度遍历渲染整个组件树。React在渲染过程中，会将每个jsx节点都对应创建一个内部实例，包含**组合组件**（CompositeComponent）和**宿主组件**（HostComponent）两种类型。组合组件与`<App />`这样的React组件节点对应。宿主组件与`<div />`这样的原生节点对应。内部实例里包含了每个节点需要的上下文信息。\n\n> 它的工作机制类似于函数调用栈，所以称为Stack Reconciler。包括mount、unmount、更新等，都是递归调用+深度优先。\n\n**宿主组件**mount时，根据当前的jsx虚拟节点（element）。创建或更新对应的原生节点（node）。然后遍历children并挨个创建内部实例，得到子内部实例列表（renderedChildren）。再调用`renderedChildren.forEach.mount()`往深层执行。mount函数执行过程中，存储element、node和renderedChildren。函数最后return node。\n\n**组合组件**mount时，根据当前的jsx虚拟节点（element）。如果是class组件则实例化，执行生命周期，执行render函数。如果是函数组件则无需实例化（本身即render函数）。执行render后得到组件根jsx节点，对应创建内部实例（renderedComponent）。组合组件无需遍历children，因为永远只有一个根节点。函数执行过程中存储element、renderedComponent。函数最后返回值为`return renderedComponent.mount()`，即继续执行子内部实例的mount函数，并取其返回值。这么看来，它最终返回的是离它深度最小的子宿主组件的node。执行过程中通知renderer挂载dom。\n\n### 数据结构对比\n\n现有如下的一个模版：\n```html\n<App>\n    <h1>App标题</h1>\n    <Detail />\n</App>\n\n// App组件：\n\n<div>{children}</div>\n\n// Detail组件：\n<button />\n```\n\n在Vue里的存储结构为：\n\n![Vue实例结构](assets/vue-render-struct.jpg \"Vue render struct\")\n\n图中每个实线框都是一个VNode，每个Vue组件对应一个Vue实例。\n\n在vue中，父级实例包含子级实例：App实例包含一个div根级VNode，div下包含一个h1和一个Detail的VNode，其中Detail虚拟节点对应了Detail实例，Detail实例下又包含了一个button的VNode。\n\n同样的模版，在React里的存储结构为：\n\n![React实例结构](assets/react-render-sturct.jpg \"React render struct\")\n\n图中每个圆角框都是一个内部实例。组合组件总是有一个且只有一个renderedComponent，指向另一个内部实例。宿主组件的renderedChildren可能包含多个，指向其他的内部实例。此外，宿主组件会return dom节点元素。而组合组件会return第一个宿主组件的return值。\n\n## Diff更新\n\n### Vue\n\nVue使用深度优先，对每个实例下的VNode tree进行递归渲染，同一级的VNode trees使用双端diff算法进行最小化的差异对比，并同步操作真实dom树。\n\n双端diff算法，使用四个指针，通过对新旧VNode数组的头头、尾尾、头尾、尾头的俩俩对比，匹配节点。这四种对比能覆盖80%以上的列表变更的场景。如果这四种都不满足，那会直接在旧数组中查找，如果还未查找到，则说明是新增节点。四指针遍历结束后，如果新数组还有剩余，则说明旧数组中找不到，要添加dom。如果旧数组还有剩余，则说明新数组中找不到，要删除dom。\n\n### React\n\nReact在首次挂载完后，便通过内部实例之间的相互引用，得到了一个内部实例的树。渲染更新时，由根内部实例，深度递归遍历，调用实例的receive方法。receive方法接收一个可以复用的新jsx节点（element），即key和type都相同。\n\n在组合组件的receive方法中，如果是class组件，更新props，执行生命周期，并调用render方法；如果是函数组件，执行函数。得到子jsx虚拟节点。与旧的虚拟节点对比，如果key和type都一样，则可以复用子内部实例，调用子内部实例的receive方法，形成递归。如果不可复用，则重新创建子内部实例。并unmount旧的子内部实例，mount新的子内部实例。同时通知renderer卸载dom。\n\n在宿主组件的receive方法中，首先更新props为新的element的props。接着开始遍历处理props.children。对比旧的子内部实例数组（prevRenderedChildren）和新的数组（nextRenderedChildren）。数组遍历中，找到可以复用的，也是直接调用该子内部实例的receive方法，往下递归，如果存在位置移动，添加一个“MOVE”操作到操作队列（operationQueue）里。如果找不到，则需要新增，添加一个“ADD”操作到操作队列里。如果旧数组存在而新数组不存在，则需要删除，添加一个“REMOVE”操作到操作队列里。最终遍历操作队列，通知renderer更新dom。\n\n总结下来就是，组合组件每次渲染更新都执行render函数，并对比renderedComponent是否可以复用。宿主组件每次渲染更新，都更新props，对比props.children考虑renderedChildren中哪些可以复用。复用的则向下递归调用receive方法。不复用的则调用renderer更新dom。\n\n## 简单版源码\n\n本文的结构分析是基于我造轮子的[Vuelon](https://github.com/missmess/leon-build-wheel/tree/main/packages/vuelon)和[Reacteon](https://github.com/missmess/leon-build-wheel/tree/main/packages/reacteon)。\n\n有兴趣的可以同时从npm包下载，直接在[npmjs.com](https://npmjs.com)搜索包即可：Vuelon和Reacteon。\n"}}},"pageContext":{"slug":"/vue-react-render","nexttitle":"min-ruoyi","nextslug":"/min-ruoyi","prevtitle":"dmp作业开发后台","prevslug":"/dmp作业开发后台","relatedPosts":[{"title":"谈一谈React18的批处理","description":"介绍React18的并发和批处理相关知识","coverImg":{"layout":"constrained","placeholder":{"fallback":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAECAwX/xAAWAQEBAQAAAAAAAAAAAAAAAAADAAL/2gAMAwEAAhADEAAAAeclkhySZv/EABkQAQACAwAAAAAAAAAAAAAAAAERMQACEv/aAAgBAQABBQKWBOm2trz/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAZEAACAwEAAAAAAAAAAAAAAAAAECEiUYH/2gAIAQEABj8CLYQuL//EABsQAAICAwEAAAAAAAAAAAAAAAABETEQIUFx/9oACAEBAAE/IWxdkFYRnwUFXjH/2gAMAwEAAgADAAAAEKP/AP/EABcRAQADAAAAAAAAAAAAAAAAAAEQESH/2gAIAQMBAT8QS8j/xAAWEQADAAAAAAAAAAAAAAAAAAABECH/2gAIAQIBAT8QMX//xAAcEAEAAwACAwAAAAAAAAAAAAABABEhMUFRYfD/2gAIAQEAAT8Q4Q5WAQPCaL9qy5y7yEGo6n2PEtn/2Q=="},"backgroundColor":"transparent","images":{"fallback":{"src":"/leon-blog/static/b1d2ff9419b4177e3d87c06130565a38/56675/react18-feature.jpg","srcSet":"/leon-blog/static/b1d2ff9419b4177e3d87c06130565a38/9fa5a/react18-feature.jpg 184w,\n/leon-blog/static/b1d2ff9419b4177e3d87c06130565a38/2a971/react18-feature.jpg 367w,\n/leon-blog/static/b1d2ff9419b4177e3d87c06130565a38/56675/react18-feature.jpg 734w","sizes":"(min-width: 734px) 734px, 100vw"},"sources":[{"srcSet":"/leon-blog/static/b1d2ff9419b4177e3d87c06130565a38/9d028/react18-feature.avif 184w,\n/leon-blog/static/b1d2ff9419b4177e3d87c06130565a38/fcbd2/react18-feature.avif 367w,\n/leon-blog/static/b1d2ff9419b4177e3d87c06130565a38/61ef5/react18-feature.avif 734w","type":"image/avif","sizes":"(min-width: 734px) 734px, 100vw"},{"srcSet":"/leon-blog/static/b1d2ff9419b4177e3d87c06130565a38/ef27d/react18-feature.webp 184w,\n/leon-blog/static/b1d2ff9419b4177e3d87c06130565a38/6963a/react18-feature.webp 367w,\n/leon-blog/static/b1d2ff9419b4177e3d87c06130565a38/bce1f/react18-feature.webp 734w","type":"image/webp","sizes":"(min-width: 734px) 734px, 100vw"}]},"width":734,"height":368},"coverImageAlt":"封面","datePublished":"2024-06-24T19:28:20.000Z","dateModified":"2024-06-24T19:28:20.000Z","category":"经验总结","tags":["前端","React","架构","造轮子"],"excerpt":"最近笔者腾出了大把的时间，学习了一下React18。 导航 什么是批处理？ React18之前的批处理 React18的自动批处理 批处理原理 退出批处理 回首React过往的一些重大版本： React 16.0（2017年9月）：带来了全新的Fiber…","timeToRead":1,"slug":"/react-batch","route":"/react-batch","pathName":"/leon-blog/react-batch","url":"https://missmess.github.io/leon-blog/react-batch"},{"title":"React Fiber架构之工作循环","description":"介绍React16带来的全新fiber架构，其中的WorkLoop","coverImg":{"layout":"constrained","placeholder":{"fallback":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAECBf/EABYBAQEBAAAAAAAAAAAAAAAAAAABAv/aAAwDAQACEAMQAAABxpq1QP/EABYQAAMAAAAAAAAAAAAAAAAAAAABIP/aAAgBAQABBQIc/wD/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAY/Al//xAAaEAACAgMAAAAAAAAAAAAAAAABEQAhIEGR/9oACAEBAAE/IQndxNAdx//aAAwDAQACAAMAAAAQS+//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAcEAEAAgEFAAAAAAAAAAAAAAABABEhEDFBYYH/2gAIAQEAAT8QYKKXkWrmPC7EzycaO8//2Q=="},"backgroundColor":"transparent","images":{"fallback":{"src":"/leon-blog/static/da24c565e170845a9f10394ef98ce91a/38598/react-fiber.jpg","srcSet":"/leon-blog/static/da24c565e170845a9f10394ef98ce91a/3281a/react-fiber.jpg 186w,\n/leon-blog/static/da24c565e170845a9f10394ef98ce91a/3f3c9/react-fiber.jpg 372w,\n/leon-blog/static/da24c565e170845a9f10394ef98ce91a/38598/react-fiber.jpg 743w","sizes":"(min-width: 743px) 743px, 100vw"},"sources":[{"srcSet":"/leon-blog/static/da24c565e170845a9f10394ef98ce91a/1043a/react-fiber.avif 186w,\n/leon-blog/static/da24c565e170845a9f10394ef98ce91a/75542/react-fiber.avif 372w,\n/leon-blog/static/da24c565e170845a9f10394ef98ce91a/4b780/react-fiber.avif 743w","type":"image/avif","sizes":"(min-width: 743px) 743px, 100vw"},{"srcSet":"/leon-blog/static/da24c565e170845a9f10394ef98ce91a/b2901/react-fiber.webp 186w,\n/leon-blog/static/da24c565e170845a9f10394ef98ce91a/f2d3a/react-fiber.webp 372w,\n/leon-blog/static/da24c565e170845a9f10394ef98ce91a/16c74/react-fiber.webp 743w","type":"image/webp","sizes":"(min-width: 743px) 743px, 100vw"}]},"width":743,"height":368.00000000000006},"coverImageAlt":"封面","datePublished":"2023-04-06T19:58:30.000Z","dateModified":"2023-04-06T19:58:30.000Z","category":"经验总结","tags":["前端","React","架构","造轮子"],"excerpt":"在 React Fiber架构总览 中我们提到，React16的新Fiber架构，将老架构的 递归同步的更新 ，替换为 异步可中断的更新 。这个异步可中断指的就是工作循环的执行中断。 本次我们就主要讲一讲：为什么要使用workLoop…","timeToRead":1,"slug":"/react-workloop","route":"/react-workloop","pathName":"/leon-blog/react-workloop","url":"https://missmess.github.io/leon-blog/react-workloop"}]}},"staticQueryHashes":["2792541146","2845918323"]}