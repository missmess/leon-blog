{"componentChunkName":"component---themes-advanced-src-templates-post-query-ts","path":"/webpack是如何处理-esm的","result":{"data":{"mdx":{"body":"var _excluded = [\"components\"];\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction _objectWithoutProperties(e, t) { if (null == e) return {}; var o, r, i = _objectWithoutPropertiesLoose(e, t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); for (r = 0; r < n.length; r++) o = n[r], t.indexOf(o) >= 0 || {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]); } return i; }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (e.indexOf(n) >= 0) continue; t[n] = r[n]; } return t; }\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\nvar _frontmatter = {\n  \"title\": \"Webpack是如何处理ESM的\",\n  \"cover\": \"../static/assets/webpack-package.jpg\",\n  \"coverAlt\": \"封面\",\n  \"description\": \"介绍一段import和require的代码在webpack中如何被打包\",\n  \"datePublished\": \"2023-02-08 21:52:32\",\n  \"dateModified\": \"2023-02-08 21:52:32\",\n  \"category\": \"经验总结\",\n  \"tags\": [\"前端\", \"架构\", \"造轮子\"]\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"\\u5468\\u6240\\u5468\\u77E5\\uFF0CES6\\u5F15\\u5165\\u4E86\\u5B98\\u65B9\\u7684\\u6A21\\u5757\\u5316\\u65B9\\u6848\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"import\"), \"\\u548C\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"export\"), \"\\u3002\\u5728\\u6B64\\u4E4B\\u524D\\uFF0Cjs\\u60F3\\u8981\\u5B9E\\u73B0\\u6A21\\u5757\\u5316\\u5F00\\u53D1\\uFF0C\\u9700\\u8981\\u4F9D\\u8D56\\u4E8E\\u975E\\u5B98\\u65B9\\u65B9\\u6848\\u3002\"), mdx(\"h4\", null, \"\\u6A21\\u5757\\u5316\\u5386\\u53F2\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"\\u6700\\u65E9\\u671F\\uFF1AIIFE\")), mdx(\"p\", null, \"\\u6700\\u5F00\\u59CB\\u4E3A\\u4E86\\u907F\\u514D\\u5728\\u5168\\u5C40\\u4F5C\\u7528\\u57DF\\u6267\\u884C\\u4EE3\\u7801\\uFF0C\\u5F00\\u53D1\\u8005\\u4F7F\\u7528IIFE\\u5C06\\u4EE3\\u7801\\u5C01\\u88C5\\u5728\\u51FD\\u6570\\u4F5C\\u7528\\u57DF\\u5185\\u3002\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"javascript\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-javascript\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-javascript\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"var\"), \" mathToolModule \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"function\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"var\"), \" pi \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"3.141592653\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"function\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"add\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token parameter\"\n  }, \"a\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" b\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n        \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"return\"), \" a \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"+\"), \" b\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"return\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n        \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token literal-property property\"\n  }, \"pi\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" pi\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n        \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token literal-property property\"\n  }, \"add\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" add\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \"\\n\\nmathToolModule\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"add\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"1\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"2\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\")))), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"CommonJs\")), mdx(\"p\", null, \"\\u6BD4\\u8F83\\u5E38\\u7528\\u7684\\u6A21\\u5757\\u5316\\u65B9\\u6848\\uFF0C\\u4F7F\\u7528\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"require\"), \"\\u548C\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"module.exports\"), \"\\u6765\\u5BFC\\u5165/\\u5BFC\\u51FA\\u6A21\\u5757\\u3002\\u73B0\\u4ECA\\u7684Node.js\\u4ECD\\u7136\\u4F7F\\u7528\\u8BE5\\u6A21\\u5757\\u5316\\u6807\\u51C6\\u3002\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"javascript\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-javascript\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-javascript\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"// toolsModule.js\"), \"\\nmodule\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), \"exports \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function-variable function\"\n  }, \"add\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"function\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token parameter\"\n  }, \"a\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" b\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n        \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"return\"), \" a \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"+\"), \" b\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \"\\n\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"// main.js\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"const\"), \" mathToolModule \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"require\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'./toolsModule.js'\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\nmathToolModule\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"add\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"1\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"2\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\")))), mdx(\"p\", null, \"\\u7F3A\\u70B9\\u5F88\\u660E\\u663E\\uFF0C\\u56E0\\u4E3A\\u662F\\u540C\\u6B65\\u52A0\\u8F7D\\uFF0C\\u6240\\u4EE5\\u5728\\u6D4F\\u89C8\\u5668\\u4E0A\\u7F51\\u7EDC\\u5DEE\\u7684\\u60C5\\u51B5\\u4E0B\\u4F1A\\u6BD4\\u8F83\\u6162\\u5F71\\u54CD\\u6027\\u80FD\\u3002\\u800CNode\\u670D\\u52A1\\u7AEF\\u56E0\\u4E3A\\u90FD\\u5728\\u672C\\u5730\\u6240\\u4EE5\\u4E0D\\u5F71\\u54CD\\u3002\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"AMD\\uFF08Async Module Definition\\uFF09\")), mdx(\"p\", null, mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"CommonJs\"), \"\\u5B9E\\u73B0\\u4E0D\\u4E86\\u5F02\\u6B65\\u52A0\\u8F7D\\u6A21\\u5757\\uFF0C\\u6240\\u4EE5\\u51FA\\u73B0\\u4E86AMD\\u6807\\u51C6\\u3002\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"RequireJs\"), \"\\u662FAMD\\u7684\\u4E00\\u79CD\\u5B9E\\u73B0\\uFF1A\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"javascript\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-javascript\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-javascript\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"// \\u5B9A\\u4E49\\u4E00\\u4E2AmathTools\\u6A21\\u5757\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"define\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'mathTools'\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"[\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"]\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"function\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"var\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function-variable function\"\n  }, \"add\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"function\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token parameter\"\n  }, \"a\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" b\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n        \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"return\"), \" a \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"+\"), \" b\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"return\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n        \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token literal-property property\"\n  }, \"add\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" add\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"// \\u5F15\\u5165math\\u4F5C\\u4E3A\\u4F9D\\u8D56\\u6A21\\u5757\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"require\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"[\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'mathTools'\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"]\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"function\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token parameter\"\n  }, \"math\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n    math\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"add\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"1\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"2\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\")))), mdx(\"p\", null, \"\\u901A\\u8FC7\\u5F15\\u5165\\u4F9D\\u8D56\\u6570\\u7EC4\\uFF0C\\u5E76\\u5F02\\u6B65\\u52A0\\u8F7D\\u5168\\u90E8\\u7684\\u6A21\\u5757\\uFF0C\\u7B49\\u5F85\\u52A0\\u8F7D\\u5B8C\\u6210\\u540E\\u518D\\u8FD0\\u884C\\u5185\\u90E8\\u4EE3\\u7801\\u3002\\u7F3A\\u70B9\\u662F\\u4F9D\\u8D56\\u6570\\u7EC4\\u524D\\u7F6E\\u4E86\\uFF0C\\u6240\\u4EE5\\u7528\\u6216\\u8005\\u4E0D\\u7528\\u90FD\\u4F1A\\u52A0\\u8F7D\\u8FD9\\u4E9B\\u6A21\\u5757\\u3002\\u6CA1\\u6709\\u6309\\u9700\\u52A0\\u8F7D\\u3002\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"CMD\\uFF08Common Module Definition\\uFF09\\uFF09\")), mdx(\"p\", null, \"\\u963F\\u91CC\\u5DF4\\u5DF4\\u63D0\\u51FA\\u7684\\u4E00\\u79CD\\u524D\\u7AEF\\u6A21\\u5757\\u5316\\u89C4\\u8303\\u3002CMD\\u89C4\\u8303\\u4E3B\\u8981\\u7528\\u4E8E\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"Sea.js\"), \"\\u6A21\\u5757\\u52A0\\u8F7D\\u5668\\u3002\\u7279\\u70B9\\u662F\\u6309\\u9700\\u52A0\\u8F7D\\uFF0C\\u4F9D\\u8D56\\u5C31\\u8FD1\\uFF08\\u4F9D\\u8D56\\u53EF\\u4EE5\\u5199\\u5728\\u4EE3\\u7801\\u4EFB\\u610F\\u5730\\u65B9\\uFF0C\\u53EA\\u6709\\u4F7F\\u7528\\u65F6\\u624D\\u53BB\\u89E3\\u6790\\u4F9D\\u8D56\\uFF09\\u3002\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"javascript\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-javascript\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-javascript\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"// \\u5B9A\\u4E49math\\u6A21\\u5757\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"define\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"function\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token parameter\"\n  }, \"require\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" exports\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" module\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n    exports\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function-variable function\"\n  }, \"add\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"function\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token parameter\"\n  }, \"a\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" b\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n        \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"return\"), \" a \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"+\"), \" b\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \"\\n\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"// \\u4F7F\\u7528math\\u6A21\\u5757\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"define\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"function\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token parameter\"\n  }, \"require\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" exports\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" module\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"var\"), \" mathTools \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"require\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'./math.js'\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n    mathTools\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"add\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"1\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"2\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\")))), mdx(\"p\", null, mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"require\"), \"\\u548C\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"exports\"), \"\\u90FD\\u4F5C\\u4E3A\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"define\"), \"\\u5185\\u51FD\\u6570\\u7684\\u53C2\\u6570\\u3002\\u5206\\u522B\\u4EE3\\u8868\\u81EA\\u5DF1\\u8981\\u4F7F\\u7528\\u4EC0\\u4E48\\u6A21\\u5757\\uFF0C\\u4EE5\\u53CA\\u5BFC\\u51FA\\u54EA\\u4E9B\\u53D8\\u91CF\\u3002\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"UMD\\uFF08Universal Module Definition\\uFF09\")), mdx(\"p\", null, \"UMD\\u89C4\\u8303\\u7684\\u76EE\\u7684\\u662F\\u8BA9\\u4E00\\u4E2A\\u6A21\\u5757\\u80FD\\u540C\\u65F6\\u5728\\u4E0D\\u540C\\u73AF\\u5883\\u4E0B\\u8FD0\\u884C\\u3002\\u4E0D\\u8BBA\\u662F\\u6D4F\\u89C8\\u5668\\u3001Node.js\\u8FD8\\u662F\\u5176\\u4ED6\\u73AF\\u5883\\u3002\\u5B83\\u517C\\u5BB9\\u4E86AMD\\u3001CommonJs\\u4EE5\\u53CA\\u5168\\u5C40\\u53D8\\u91CF\\u3002\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"javascript\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-javascript\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-javascript\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"// mathTools.js\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"function\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token parameter\"\n  }, \"root\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" factory\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"if\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"typeof\"), \" define \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"===\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'function'\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"&&\"), \" define\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), \"amd\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n        \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"// AMD\"), \"\\n        \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"define\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"[\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"]\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" factory\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"else\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"if\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"typeof\"), \" module \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"===\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'object'\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"&&\"), \" module\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), \"exports\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n        \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"// CommonJS\"), \"\\n        module\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), \"exports \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"factory\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"else\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n        \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"// \\u6D4F\\u89C8\\u5668\\u5168\\u5C40\\u53D8\\u91CF\"), \"\\n        root\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), \"mathTools \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"factory\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"this\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"function\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"// \\u4E3B\\u4F53\\u4EE3\\u7801\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"return\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n        \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function-variable function\"\n  }, \"add\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"function\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token parameter\"\n  }, \"a\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" b\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n            \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"return\"), \" a \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"+\"), \" b\\n        \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"// main.js\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"function\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token parameter\"\n  }, \"root\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" factory\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"if\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"typeof\"), \" define \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"===\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'function'\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"&&\"), \" define\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), \"amd\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n        \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"// AMD\"), \"\\n        \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"define\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"[\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'mathTools'\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"]\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" factory\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"else\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"if\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"typeof\"), \" module \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"===\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'object'\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"&&\"), \" module\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), \"exports\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n        \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"// CommonJS\"), \"\\n        module\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), \"exports \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"factory\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"require\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'mathTools'\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"else\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n        \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"// \\u6D4F\\u89C8\\u5668\\u5168\\u5C40\\u53D8\\u91CF\"), \"\\n        root\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), \"myModule \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"factory\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"root\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), \"mathTools\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"this\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"function\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token parameter\"\n  }, \"mathTools\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"// \\u4E3B\\u4F53\\u4EE3\\u7801\"), \"\\n    mathTools\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"add\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"1\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"2\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\")))), mdx(\"p\", null, \"\\u53EF\\u4EE5\\u770B\\u5230\\u6BCF\\u4E2A\\u6A21\\u5757\\u7684\\u4E3B\\u4F53\\u4EE3\\u7801\\u90FD\\u5728\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"factory\\u51FD\\u6570\"), \"\\u91CC\\u3002\\u6A21\\u5757\\u6267\\u884C\\u65F6\\u4F7F\\u7528IFFE\\uFF1A\\u5224\\u65AD\\u5F53\\u524D\\u4F7F\\u7528\\u54EA\\u79CD\\u6A21\\u5757\\u89C4\\u8303\\uFF0C\\u5E76\\u628A\\u81EA\\u5DF1\\u5BFC\\u51FA\\u4E3A\\u5F53\\u524D\\u7684\\u6A21\\u5757\\u89C4\\u8303\\u3002\\u4ECE\\u800C\\u8BA9\\u6BCF\\u4E2A\\u6A21\\u5757\\u90FD\\u80FD\\u8FD0\\u884C\\u5728\\u5404\\u79CD\\u6A21\\u5757\\u89C4\\u8303\\u4E0B\\u3002\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"ESM\\uFF08EMCAScript Module\\uFF09\")), mdx(\"p\", null, \"ES6\\u4ECE\\u8BED\\u8A00\\u5C42\\u9762\\u5B9E\\u73B0\\u4E86\\u6A21\\u5757\\u5316\\u3002\\u65E8\\u5728\\u7EDF\\u4E00\\u6807\\u51C6\\u3002\\u4F7F\\u7528\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"import\"), \"\\u5BFC\\u5165\\u6A21\\u5757\\uFF0C\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"export\"), \"\\u5BFC\\u51FA\\u6A21\\u5757\\u3002\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"javascript\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-javascript\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-javascript\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"// mathTools.js\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"export\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"default\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function-variable function\"\n  }, \"add\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token parameter\"\n  }, \"a\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" b\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=>\"), \" a \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"+\"), \" b\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \"\\n\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"// main.js\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"import\"), \" add \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"from\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'mathTools'\"), \"\\n\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"add\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"1\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"2\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\")))), mdx(\"p\", null, \"\\u5E76\\u4E14ESM\\u6162\\u6162\\u6210\\u4E3A\\u6D4F\\u89C8\\u5668\\u7684\\u6807\\u914D\\u3002\\u4F7F\\u7528\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"<script type=\\\"module\\\">\"), \"\\u5C31\\u53EF\\u4EE5\\u5B9A\\u4E49\\u4E00\\u4E2A\\u811A\\u672C\\u4F7F\\u7528\\u8BE5\\u6A21\\u5757\\u89C4\\u8303\\u3002\\u5728node\\u7AEF\\u4E5F\\u652F\\u6301ESM\\u3002\\u901A\\u8FC7\\u5728package.json\\u91CC\\u914D\\u7F6E\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"type: \\\"module\\\"\"), \"\\u6216\\u8005\\u4F7F\\u7528\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \".mjs\"), \"\\u540E\\u7F00\\uFF0C\\u5C31\\u53EF\\u4EE5\\u4F7F\\u7528ESM\\u3002\"), mdx(\"h4\", null, \"ESM\\u548CCommonJs\\u7684\\u6A21\\u5757\\u52A0\\u8F7D\\u5DEE\\u5F02\"), mdx(\"p\", null, \"webpack\\u53EF\\u4EE5\\u901A\\u8FC7\\u914D\\u7F6E\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://www.webpackjs.com/configuration/output/#outputlibrarytype\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow noopener noreferrer\"\n  }, \"output.type\"), \"\\u5C06\\u4EE3\\u7801\\u6253\\u5305\\u6210\\u5404\\u79CD\\u6A21\\u5757\\u89C4\\u8303\\u7684\\u683C\\u5F0F\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u6839\\u636E\\u5E93\\u7684\\u76EE\\u6807\\u8FD0\\u884C\\u73AF\\u5883\\u6765\\u66F4\\u6539\\u6A21\\u5757\\u7C7B\\u578B\\u3002\\u5982\\u679C\\u8981\\u517C\\u5BB9\\uFF0C\\u53EF\\u4EE5\\u9009\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"umd\"), \"\\u683C\\u5F0F\\u3002\"), mdx(\"p\", null, \"\\u672C\\u6B21\\u4E3B\\u8981\\u5BF9\\u6BD4\\u4E00\\u4E0BESM\\u548CCJS\\u7684\\u6A21\\u5757\\u52A0\\u8F7D\\u673A\\u5236\\u7684\\u4E0D\\u540C\\u3002\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"esm\\u662F\\u9759\\u6001\\u52A0\\u8F7D\\u7684\\uFF0C\\u5373\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"import\"), \"\\u8BED\\u53E5\\u662F\\u5728\\u7F16\\u8BD1\\u65F6\\u9759\\u6001\\u89E3\\u6790\\u548C\\u4F18\\u5316\\u7684\\u3002\\u800Ccommonjs\\u662F\\u52A8\\u6001\\u52A0\\u8F7D\\u7684\\uFF0C\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"require\"), \"\\u8BED\\u53E5\\u5728\\u8FD0\\u884C\\u4EE3\\u7801\\u65F6\\u89E3\\u6790\\u3002\\uFF08\\u6240\\u4EE5\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"import\"), \"\\u8BED\\u53E5\\u53EA\\u80FD\\u5199\\u5728\\uFF08top-leve\\uFF09\\u9876\\u5C42\\u4F5C\\u7528\\u57DF\\uFF0C\\u4E0D\\u53EF\\u5728{}\\u5757\\u7EA7\\u4F5C\\u7528\\u57DF\\u4E2D\\u3002\\u800C\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"require\"), \"\\u65E0\\u9650\\u5236\\uFF09\\u3002\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"\\u6D4F\\u89C8\\u5668\\u4E2D\\uFF0Cesm\\u662F\\u5F02\\u6B65\\u52A0\\u8F7D\\u7684\\u3002\\u800Ccommonjs\\u662F\\u540C\\u6B65\\u52A0\\u8F7D\\u7684\\u3002\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"esm\\u6A21\\u5757\\u5BFC\\u51FA\\u7684\\u662F\\u5F15\\u7528\\uFF0C\\u800Ccommonjs\\u5BFC\\u51FA\\u7684\\u662F\\u526F\\u672C\\u3002\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"#%E5%85%B6%E4%BB%96\"\n  }, \"\\u770B\\u4E0B\\u9762\")))), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"ESM\\u5728\\u6D4F\\u89C8\\u5668\\u4E2D\\u662F\\u5982\\u4F55\\u52A0\\u8F7D\\u7684\")), mdx(\"p\", null, \"\\u5B9A\\u4E49\\u4E86\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"type=\\\"module\\\"\"), \"\\u7684js\\u811A\\u672C\\u4E2D\\u53EF\\u4EE5\\u76F4\\u63A5\\u4F7F\\u7528esm\\u8BED\\u6CD5\\u3002\"), mdx(\"p\", null, \"esm\\u811A\\u672C\\u7684\\u52A0\\u8F7D\\u662F\\u5F02\\u6B65\\u7684\\u3002\\u4E5F\\u5C31\\u662F\\u8BF4\\u4E0B\\u9762\\u7684\\u4EE3\\u7801\\u662F\\u7B49\\u540C\\u7684\\uFF1A\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"html\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-html\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-html\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token tag\"\n  }, mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token tag\"\n  }, mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"<\"), \"script\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token attr-name\"\n  }, \"type\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token attr-value\"\n  }, mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation attr-equals\"\n  }, \"=\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"\\\"\"), \"module\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"\\\"\")), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token attr-name\"\n  }, \"src\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token attr-value\"\n  }, mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation attr-equals\"\n  }, \"=\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"\\\"\"), \"./index.js\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"\\\"\")), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \">\")), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token script\"\n  }), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token tag\"\n  }, mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token tag\"\n  }, mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"</\"), \"script\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \">\")), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token tag\"\n  }, mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token tag\"\n  }, mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"<\"), \"script\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token attr-name\"\n  }, \"type\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token attr-value\"\n  }, mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation attr-equals\"\n  }, \"=\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"\\\"\"), \"module\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"\\\"\")), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token attr-name\"\n  }, \"src\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token attr-value\"\n  }, mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation attr-equals\"\n  }, \"=\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"\\\"\"), \"./index.js\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"\\\"\")), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token attr-name\"\n  }, \"defer\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \">\")), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token script\"\n  }), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token tag\"\n  }, mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token tag\"\n  }, mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"</\"), \"script\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \">\"))))), mdx(\"p\", null, mdx(\"em\", {\n    parentName: \"p\"\n  }, \"BTW\\uFF1A\", mdx(\"code\", {\n    parentName: \"em\",\n    \"className\": \"language-text\"\n  }, \"defer\"), \"\\u5C5E\\u6027\\u7684\\u811A\\u672C\\u4F1A\\u5728html\\u89E3\\u6790\\u5B8C\\u6210\\u540E\\u6267\\u884C\\u5E76\\u4E14\\u4FDD\\u8BC1defer\\u811A\\u672C\\u7684\\u6267\\u884C\\u987A\\u5E8F\\u3002\\u800C\", mdx(\"code\", {\n    parentName: \"em\",\n    \"className\": \"language-text\"\n  }, \"async\"), \"\\u811A\\u672C\\u4F1A\\u5728\\u8BE5\\u811A\\u672C\\u4E0B\\u8F7D\\u5B8C\\u6210\\u540E\\u7ACB\\u5373\\u6267\\u884C\\uFF0C\\u6267\\u884C\\u987A\\u5E8F\\u4E0D\\u4FDD\\u8BC1\\uFF0C\\u6267\\u884C\\u65F6\\u95F4\\u4E5F\\u4E0D\\u4FDD\\u8BC1\\u3002\\u6240\\u4EE5\", mdx(\"code\", {\n    parentName: \"em\",\n    \"className\": \"language-text\"\n  }, \"async\"), \"\\u9002\\u5408\\u4E0Edom\\u65E0\\u5173\\uFF0C\\u72EC\\u7ACB\\u8FD0\\u884C\\u7684\\u811A\\u672C\\u3002\\u800C\", mdx(\"code\", {\n    parentName: \"em\",\n    \"className\": \"language-text\"\n  }, \"defer\"), \"\\u9002\\u5408\\u4E0D\\u9700\\u8981\\u963B\\u585Ehtml\\u89E3\\u6790\\u7684\\u5F02\\u6B65\\u811A\\u672C\\u3002\")), mdx(\"p\", null, mdx(\"em\", {\n    parentName: \"p\"\n  }, \"\\u6267\\u884C\\u987A\\u5E8F\\uFF1Ahtml\\u5F00\\u59CB\\u89E3\\u6790 => \\u540C\\u6B65script\\u6309\\u987A\\u5E8F\\u6267\\u884C => html\\u89E3\\u6790\\u5B8C\\u6210 => defer\\u811A\\u672C\\u6309\\u987A\\u5E8F\\u6267\\u884C => DOMContentLoaded\\u4E8B\\u4EF6 => \\u5176\\u4ED6\\u8D44\\u6E90\\u52A0\\u8F7D\\uFF08link\\u5916\\u90E8\\u6837\\u5F0F\\u8868\\uFF0Cimg\\u7684\\u56FE\\u7247\\u8D44\\u6E90\\uFF09 => \\u5168\\u90E8\\u5B8C\\u6210\\u89E6\\u53D1onload\\u4E8B\\u4EF6\")), mdx(\"p\", null, \"esm\\u662F\\u7F16\\u8BD1\\u65F6\\u9759\\u6001\\u5206\\u6790\\u7684\\uFF0C\\u867D\\u7136\\u5728\\u6D4F\\u89C8\\u5668\\u4E2D\\u4F7F\\u7528esm\\u6CA1\\u6709\\u4E86\\u7F16\\u8BD1\\u9636\\u6BB5\\u3002\\u4F46\\u9759\\u6001\\u5206\\u6790\\u4ECD\\u7136\\u5B58\\u5728\\u3002\\u6D4F\\u89C8\\u5668\\u52A0\\u8F7Desm\\u7684\\u6B65\\u9AA4\\uFF1A\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"\\u5165\\u53E3\\uFF1A\\u4ECE\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"<script type=\\\"module\\\">\"), \"\\u6807\\u7B7E\\u7684\\u6A21\\u5757\\u5165\\u53E3\\uFF0C\\u5F00\\u59CB\\u89E3\\u6790\\u548C\\u52A0\\u8F7D\\u3002\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"\\u9884\\u89E3\\u6790\\u6A21\\u5757\\uFF1A\\u5728\\u6267\\u884C\\u4EE3\\u7801\\u4E4B\\u524D\\uFF0C\\u6D4F\\u89C8\\u5668\\u5148\\u9884\\u89E3\\u6790\\u6A21\\u5757\\u6587\\u672C\\uFF0C\\u786E\\u5B9A\\u6A21\\u5757\\u4F9D\\u8D56\\u5173\\u7CFB\\uFF0C\\u5F62\\u6210\\u6A21\\u5757\\u5173\\u7CFB\\u56FE\\u3002\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"\\u52A0\\u8F7D\\u6A21\\u5757\\uFF1A\\u5E76\\u884C\\u52A0\\u8F7D\\u548C\\u5B9E\\u4F8B\\u5316\\u6A21\\u5757\\uFF0C\\u786E\\u5B9A\\u5BFC\\u51FA\\u5BF9\\u8C61\\u3002\", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"\\uFF08\\u5728\\u6B64\\u8FC7\\u7A0B\\uFF0C\\u6D4F\\u89C8\\u5668\\u53EF\\u4EE5\\u505A\\u4E00\\u4E9B\\u4F18\\u5316\\uFF0C\\u6BD4\\u5982tree shaking\\u6389\\u672A\\u4F7F\\u7528\\u7684\\u5BFC\\u51FA\\uFF09\"), \"\\u3002\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"\\u6267\\u884C\\u6A21\\u5757\\u4EE3\\u7801\\uFF1A\\u5230\\u8FD9\\u91CC\\u5F00\\u59CB\\uFF0C\\u6309\\u7167\\u6DF1\\u5EA6\\u4F18\\u5148\\u987A\\u5E8F\\uFF0C\\u6267\\u884C\\u6A21\\u5757\\u7684\\u4EE3\\u7801\\uFF08\\u6700\\u6DF1\\u7684\\u6A21\\u5757\\u6700\\u5148\\u6267\\u884C\\uFF09\\u3002\\u5E76\\u4E14\\u6BCF\\u4E2A\\u6A21\\u5757\\u7684\\u4EE3\\u7801\\u53EA\\u4F1A\\u6267\\u884C\\u4E00\\u6B21\\uFF08\\u9632\\u6B62\\u5FAA\\u73AF\\u4F9D\\u8D56\\uFF09\\u3002\"))), mdx(\"p\", null, \"\\u6BD4\\u5982\\u4EE5\\u4E0B\\u60C5\\u51B5\\uFF1A\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"javascript\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-javascript\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-javascript\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"// index.js\"), \"\\nconsole\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"log\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"1\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"import\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"./esm-a.js\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\nconsole\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"log\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"2\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"import\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"./esm-b.js\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\nconsole\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"log\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"3\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"// esm-a.js\"), \"\\nconsole\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"log\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"a\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"export\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"default\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \"\\n\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"// esm-b.js\"), \"\\nconsole\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"log\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"b\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"export\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"default\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\")))), mdx(\"p\", null, \"\\u8F93\\u51FA\\u7684\\u7ED3\\u679C\\u4E3A\\uFF1Aa => b => 1 => 2 => 3\"), mdx(\"p\", null, \"\\u5982\\u679C\\u5728\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"esm-a.js\"), \"\\u5185\\u90E8\\u52A0\\u4E0A\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"import \\\"./esm-b.js\\\"\"), \"\\uFF0C\\u90A3\\u8F93\\u51FA\\u7684\\u7ED3\\u679C\\u5C31\\u53D8\\u4E3A\\uFF1Ab => a => 1 => 2 => 3\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"\\u8BE6\\u7EC6\\u53C2\\u8003\\uFF1A\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://tech.taobao.org/news/go81zn\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow noopener noreferrer\"\n  }, \"https://tech.taobao.org/news/go81zn\"))), mdx(\"p\", null, \"\\u540C\\u6BD4\\u4E4B\\u4E0B\\uFF0Ccommonjs\\u56E0\\u4E3A\\u662F\\u540C\\u6B65\\u6267\\u884C\\u7684\\uFF0C\\u52A0\\u8F7D\\u673A\\u5236\\u5C31\\u7B80\\u5355\\u5F88\\u591A\\u3002\\u8FD8\\u662F\\u4E0A\\u9762\\u7684\\u4F8B\\u5B50\\uFF0C\\u6539\\u4E3Acommonjs\\uFF1A\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"javascript\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-javascript\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-javascript\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"// index.js\"), \"\\nconsole\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"log\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"1\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"require\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"./esm-a.js\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\nconsole\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"log\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"2\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"require\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"./esm-b.js\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\nconsole\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"log\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"3\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\")))), mdx(\"p\", null, \"\\u8F93\\u51FA\\u7ED3\\u679C\\u4E3A\\uFF1A1 => a => 2 => b => 3\"), mdx(\"p\", null, \"\\u540C\\u65F6\\uFF0Cesm\\u4E5F\\u652F\\u6301\\u52A8\\u6001\\u5BFC\\u5165\\u6A21\\u5757\\uFF0C\\u4F7F\\u7528\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"import()\"), \"\\u51FD\\u6570\\uFF0C\\u53EF\\u4EE5\\u5728\\u4EFB\\u610F\\u4F4D\\u7F6E\\u8C03\\u7528\\uFF0C\\u65E0\\u9700top-level\\u3002\\u6BD4\\u5982\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"import(\\\"./esm-a.js\\\")\"), \"\\u4F1A\\u8FD4\\u56DE\\u4E00\\u4E2APromise\\uFF0C\\u5728Promise\\u91CC\\u53EF\\u4EE5\\u83B7\\u53D6\\u5230\\u6A21\\u5757\\u5BFC\\u51FA\\u7684\\u5185\\u5BB9\\u3002\\u52A8\\u6001\\u5BFC\\u5165\\u7684\\u6A21\\u5757\\u53EA\\u5728\\u8C03\\u7528\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"import()\"), \"\\u51FD\\u6570\\u65F6\\uFF0C\\u624D\\u88AB\\u89E3\\u6790\\u3001\\u52A0\\u8F7D\\u548C\\u6267\\u884C\\u3002\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"javascript\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-javascript\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-javascript\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"// index.js\"), \"\\nconsole\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"log\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"1\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"import\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"./esm-a.js\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \"\\nconsole\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"log\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"2\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"import\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"./esm-b.js\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \"\\nconsole\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"log\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"3\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\")))), mdx(\"p\", null, \"\\u8F93\\u51FA\\u7ED3\\u679C\\u4E3A\\uFF1A1 => 2 => 3 => a => b\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Node\\u7AEF\\u5904\\u7406ESM\")), mdx(\"p\", null, \"Node\\u7AEF\\u89E3\\u6790\\u548C\\u6267\\u884CESM\\u7684\\u903B\\u8F91\\u548C\\u987A\\u5E8F\\uFF0C\\u548C\\u6D4F\\u89C8\\u5668\\u7AEF\\u5982\\u51FA\\u4E00\\u8F99\\u3002\\u65E0\\u975E\\u662FNode\\u652F\\u6301\\u901A\\u8FC7\\u88F8\\u6A21\\u5757\\u540D\\u52A0\\u8F7D\\u672C\\u5730\\u6A21\\u5757\\u3002\\u6BD4\\u5982\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"import fs from 'fs'\"), \"\\u3002\\u5B83\\u4F1A\\u901A\\u8FC7\\u4E0D\\u65AD\\u5F80\\u4E0A\\u67E5\\u627E\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"node_modules\"), \"\\u76EE\\u5F55\\u6765\\u52A0\\u8F7D\\u5BF9\\u5E94\\u6A21\\u5757\\u3002\"), mdx(\"h4\", null, \"Webpack\\u4E0A\\u7F16\\u8BD1ESM\\u548CCommonJs\"), mdx(\"p\", null, \"\\u524D\\u9762\\u6240\\u8BB2\\u7684\\u90FD\\u662F\\u6D4F\\u89C8\\u5668\\u6216Node\\u5BF9ESM\\u6A21\\u5757\\u7684\\u539F\\u751F\\u652F\\u6301\\uFF0C\\u800C\\u6211\\u4EEC\\u5E38\\u5E38\\u4F1A\\u4F7F\\u7528Webpack\\u8FD9\\u6837\\u7684\\u6253\\u5305\\u5DE5\\u5177\\uFF0C\\u5BF9\\u524D\\u7AEF\\u5E94\\u7528\\u8FDB\\u884C\\u6784\\u5EFA\\u6253\\u5305\\u3002\\u800CWebpac\\u76EE\\u524D\\u5BF9ESM\\u652F\\u6301\\u8FD8\\u6709\\u9650\\uFF0C\\u5B83\\u5728\\u6784\\u5EFAESM\\u65F6\\uFF0C\\u5E76\\u4E0D\\u4F1A\\u4FDD\\u7559ESM\\uFF0C\\u800C\\u662F\\u8F6C\\u8BD1\\u6210\\u53E6\\u4E00\\u79CD\\u5B9E\\u73B0\\u3002\\u6700\\u540E\\u901A\\u8FC7\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"webpack.config.js\"), \"\\u8BBE\\u7F6E\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"library.type\"), \"\\u6765\\u751F\\u6210\\u6700\\u7EC8\\u7684\\u8F93\\u51FA\\u683C\\u5F0F\\u3002\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"javascript\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-javascript\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-javascript\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"// webpack.config.js\"), \"\\nmodule\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), \"exports \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token literal-property property\"\n  }, \"entry\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"./index.js\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token literal-property property\"\n  }, \"output\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token literal-property property\"\n  }, \"filename\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"bundle.js\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token literal-property property\"\n  }, \"path\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" path\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"resolve\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"__dirname\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"dist\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token literal-property property\"\n  }, \"globalObject\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"this\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token literal-property property\"\n  }, \"library\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n      \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token literal-property property\"\n  }, \"type\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"umd\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"// \\u914D\\u7F6E\\u6A21\\u5757\\u8F93\\u51FA\\u683C\\u5F0F\\u4E3Aumd\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\")))), mdx(\"p\", null, \"\\u6211\\u4EEC\\u770B\\u4E00\\u4E0BWebpack\\u5728development\\u6A21\\u5F0F\\u4E0B\\u662F\\u5982\\u4F55\\u5B9E\\u73B0esm\\u6A21\\u5757\\u7684\\u3002\", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"\\uFF08production\\u6A21\\u5F0F\\u4E0B\\u770B\\u4E0D\\u51FA\\u6765\\uFF0C\\u56E0\\u4E3A\\u505A\\u4E86\\u4EE3\\u7801\\u538B\\u7F29\\u3001treeshaking\\u3001\\u6A21\\u5757\\u5408\\u5E76\\u7B49\\uFF09\\u3002\"), \"\\u62FF\\u4E0B\\u9762\\u7684\\u4F8B\\u5B50\\u6765\\u770Besm\\u9759\\u6001\\u5BFC\\u5165\\u548C\\u52A8\\u6001\\u5BFC\\u5165\\u6A21\\u5757\\uFF0Cwebpack\\u7F16\\u8BD1\\u540E\\u662F\\u4EC0\\u4E48\\u6837\\u5B50\\uFF1A\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"javascript\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-javascript\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-javascript\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"// ========== index.js - \\u7F16\\u8BD1\\u524D\"), \"\\nconsole\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"log\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"1\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"import\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"./esm-a.js\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"then\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=>\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n        console\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"log\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"esm-a loaded\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \"\\nconsole\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"log\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"2\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"import\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"./esm-b.js\\\"\"), \"\\nconsole\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"log\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"3\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"// ========== index.js - \\u7F16\\u8BD1\\u540E\"), \"\\n__webpack_require__\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"r\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"__webpack_exports__\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"var\"), \" _esm_b_js__WEBPACK_IMPORTED_MODULE_0__ \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"__webpack_require__\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"./esm-b.js\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\nconsole\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"log\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"1\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n    __webpack_require__\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"e\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"esm-a_js\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"then\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"__webpack_require__\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"bind\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"__webpack_require__\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"./esm-a.js\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"then\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=>\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n        console\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"log\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"esm-a loaded\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \"\\nconsole\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"log\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"2\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\nconsole\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"log\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"3\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\")))), mdx(\"p\", null, \"\\u53EF\\u4EE5\\u770B\\u5230\\u9759\\u6001import\\u7684\\u6A21\\u5757\\uFF0C\\u88AB\\u63D0\\u5230\\u4E86\\u4EE3\\u7801\\u9876\\u90E8\\uFF0C\\u5E76\\u901A\\u8FC7\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"__webpack_require__()\"), \"\\u51FD\\u6570\\u52A0\\u8F7D\\u6A21\\u5757\\u3002\\u52A8\\u6001import()\\u7684\\u6A21\\u5757\\u8FD8\\u5728\\u539F\\u6765\\u7684\\u4F4D\\u7F6E\\uFF0C\\u901A\\u8FC7\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"__webpack_require__.e\"), \"Promise\\u5316\\u540E\\u518D\\u52A0\\u8F7D\\u5BF9\\u5E94\\u6A21\\u5757\\uFF0C\\u5E76\\u5728\\u6A21\\u5757\\u52A0\\u8F7D\\u540E\\u6267\\u884C\\u56DE\\u8C03\\u51FD\\u6570\\u3002\"), mdx(\"p\", null, \"webpack\\u5904\\u7406CommonJs\\u7684\\u5C31\\u6BD4\\u8F83\\u7B80\\u5355\\u4E86\\u3002\\u76F4\\u63A5\\u4F7F\\u7528\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"__webpack_require__()\"), \"\\u52A0\\u8F7D\\u6A21\\u5757\\u5373\\u53EF\\u3002\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"javascript\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-javascript\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-javascript\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"// ========== index.js - \\u7F16\\u8BD1\\u524D\"), \"\\nconsole\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"log\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"1\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"require\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"./esm-b.js\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\nconsole\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"log\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"2\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"// ========== index.js - \\u7F16\\u8BD1\\u540E\"), \"\\nconsole\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"log\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"1\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"__webpack_require__\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"./esm-b.js\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\nconsole\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"log\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"2\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\")))), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, mdx(\"strong\", {\n    parentName: \"strong\"\n  }, \"webpack_require\"))), mdx(\"p\", null, \"\\u4E5F\\u987A\\u4FBF\\u770B\\u770Bwebpack\\u7684\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"__webpack_require__()\"), \"\\u65B9\\u6CD5\\u505A\\u4E86\\u4EC0\\u4E48\\u3002\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"javascript\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-javascript\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-javascript\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"// __webpack_modules__\\u662F\\u4E00\\u4E2A\\u5BF9\\u8C61\\u3002\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"var\"), \" __webpack_modules__ \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string-property property\"\n  }, \"\\\"./esm-b.js\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token parameter\"\n  }, \"__unused_webpack_module\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" __webpack_exports__\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" __webpack_require__\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=>\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n        \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"eval\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"/** code\\u7701\\u7565 */\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string-property property\"\n  }, \"\\\"./index.js\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token parameter\"\n  }, \"__unused_webpack_module\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" __unused_webpack_exports\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" __webpack_require__\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=>\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n        \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"eval\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"console.log(\\\\\\\"1\\\\\\\");\\\\n__webpack_require__(/*! ./esm-b.js */ \\\\\\\"./esm-b.js\\\\\\\");\\\\nconsole.log(\\\\\\\"2\\\\\\\");\\\\n\\\\n//# sourceURL=webpack://esm/./index.js?\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"// \\u6A21\\u5757\\u7F13\\u5B58\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"var\"), \" __webpack_module_cache__ \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"// require\\u51FD\\u6570\\u5B9E\\u73B0\\uFF0C\\u7528\\u6765\\u52A0\\u8F7D\\u6A21\\u5757\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"function\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"__webpack_require__\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token parameter\"\n  }, \"moduleId\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"var\"), \" cachedModule \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" __webpack_module_cache__\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"[\"), \"moduleId\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"]\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"if\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"cachedModule \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"!==\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"undefined\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"return\"), \" cachedModule\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), \"exports\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \"\\n\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"var\"), \" module \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" __webpack_module_cache__\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"[\"), \"moduleId\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"]\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token literal-property property\"\n  }, \"exports\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \"\\n\\n  __webpack_modules__\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"[\"), \"moduleId\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"]\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"module\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" module\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), \"exports\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" __webpack_require__\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \"\\n\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"return\"), \" module\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), \"exports\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \"\\n\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"// \\u6267\\u884C\\u5BFC\\u5165\\u5165\\u53E3\\u6587\\u4EF6\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"__webpack_require__\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"./index.js\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\")))), mdx(\"p\", null, \"\\u53EF\\u4EE5\\u770B\\u5230\\uFF0C\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"__webpack_modules__\"), \"\\u7528\\u6765\\u5B58\\u50A8\\u6240\\u6709\\u7684\\u6A21\\u5757\\uFF08\\u4E0D\\u5305\\u542B\\u5F02\\u6B65\\u6A21\\u5757\\uFF09\\u3002\\u4EE5\\u6A21\\u5757\\u8DEF\\u5F84\\u4E3Akey\\uFF0C\\u503C\\u4E3A\\u5BF9\\u5E94\\u6A21\\u5757\\u7684\\u5DE5\\u5382\\u51FD\\u6570\\u3002\"), mdx(\"p\", null, mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"__webpack_require__\"), \"\\u51FD\\u6570\\u7528\\u6765\\u52A0\\u8F7D\\u6A21\\u5757\\u3002\\u5B83\\u4F1A\\u9996\\u5148\\u68C0\\u67E5\\u7F13\\u5B58\\uFF0C\\u5982\\u679C\\u6709\\u7F13\\u5B58\\u5C31\\u76F4\\u63A5\\u8FD4\\u56DE\\u7F13\\u5B58\\u3002\\u5426\\u5219\\u8C03\\u7528\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"__webpack_modules__\"), \"\\u4E2D\\u5BF9\\u5E94\\u6A21\\u5757\\u7684\\u5DE5\\u5382\\u51FD\\u6570\\u3002\"), mdx(\"p\", null, \"\\u5DE5\\u5382\\u51FD\\u6570\\u5185\\uFF0C\\u76F4\\u63A5\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"eval\"), \"\\u6267\\u884C\\u4E86\\u7F16\\u8BD1\\u540E\\u7684\\u6A21\\u5757\\u4EE3\\u7801\\u3002\\u6A21\\u5757\\u4EE3\\u7801\\u7684\\u4F5C\\u7528\\u57DF\\u9650\\u5B9A\\u5728\\u51FD\\u6570\\u5185\\uFF0C\\u5DE5\\u5382\\u51FD\\u6570\\u63D0\\u4F9B\\u7684\\u4E09\\u4E2A\\u53C2\\u6570\\u5373\\u6A21\\u5757\\u4EE3\\u7801\\u7684\\u6267\\u884C\\u4E0A\\u4E0B\\u6587\\u3002\\u6267\\u884C\\u6A21\\u5757\\u4EE3\\u7801\\u65F6\\uFF1A\\u4F7F\\u7528\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"__webpack_require__\"), \"\\u5BFC\\u5165\\u5176\\u4ED6\\u6A21\\u5757\\u3002\\u5BFC\\u51FA\\u5185\\u5BB9\\u8F93\\u51FA\\u5230\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"__webpack_exports__\"), \"\\u4E0A\\u3002\"), mdx(\"p\", null, \"\\u6700\\u540E\\u6267\\u884C\\u5165\\u53E3\\u6587\\u4EF6\\u7684require\\u3002\\u4ECE\\u800C\\u5F62\\u6210\\u4E86\\u6574\\u4E2A\\u95ED\\u73AF\\u3002\"), mdx(\"h4\", null, \"\\u5176\\u4ED6\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"ESM\\u7684\\u7279\\u6027\\u4E4B\\u4E00\\u5C31\\u662F\\u5BFC\\u51FA\\u7684\\u662F\\u5F15\\u7528\\uFF0C\\u5047\\u5982\\u503C\\u88AB\\u67D0\\u6A21\\u5757\\u4FEE\\u6539\\u4E86\\uFF0C\\u5176\\u4ED6\\u6A21\\u5757\\u83B7\\u53D6\\u7684\\u4ECD\\u662F\\u6700\\u65B0\\u503C\\u3002ESM\\u5B98\\u65B9\\u5B9E\\u73B0\\u5E94\\u8BE5\\u662F\\u5BFC\\u51FA\\u7684\\u53D8\\u91CF\\u662F\\u5F15\\u7528\\uFF0C\\u90FD\\u662F\\u6307\\u5411\\u540C\\u4E00\\u5757\\u5185\\u5B58\\u5730\\u5740\\u3002Webpack\\u5728\\u5B9E\\u73B0\\u8FD9\\u4E2A\\u7279\\u6027\\u65F6\\uFF0C\\u662F\\u901A\\u8FC7\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"Object.definedProperty\"), \"\\u8BBE\\u7F6Eget()\\u51FD\\u6570\\u3002\\u539F\\u59CB\\u503C\\u59CB\\u7EC8\\u662F\\u5728\\u539F\\u6A21\\u5757\\u5185\\uFF0C\\u5176\\u4ED6\\u6A21\\u5757\\u901A\\u8FC7get()\\u53D6\\u5230\\u7684\\u59CB\\u7EC8\\u662F\\u539F\\u6A21\\u5757\\u5185\\u7684\\u503C\\u3002\"), mdx(\"div\", {\n    parentName: \"li\",\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"javascript\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-javascript\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-javascript\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"// esm-b.js - \\u7F16\\u8BD1\\u524D\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"export\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"var\"), \" a \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"1\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"export\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"function\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"setA\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n    a\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"++\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \"\\n\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"// esm-b.js - \\u7F16\\u8BD1\\u540E\\u5E76\\u5C55\\u5F00__webpack_require__.d\"), \"\\nObject\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"defineProperty\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"__webpack_exports__\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'a'\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function-variable function\"\n  }, \"get\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=>\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"a\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\nObject\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"defineProperty\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"__webpack_exports__\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'setA'\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function-variable function\"\n  }, \"get\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=>\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"setA\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"var\"), \" a \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"1\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"function\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"setA\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n    a\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"++\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"))))), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"\\u5BF9\\u4E8E\\u52A8\\u6001\\u52A0\\u8F7D\\u7684\\u6A21\\u5757\\uFF0C\\u524D\\u9762\\u6211\\u4EEC\\u770B\\u5230\\u4E86\\u662F\\u901A\\u8FC7\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"__webpack_require__.e\"), \"\\u5904\\u7406\\u7684\\u3002\\u7B80\\u5355\\u8BF4\\u4E00\\u4E0B\\uFF1A\"), mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"\\u52A8\\u6001\\u6A21\\u5757\\u4F1A\\u88AB\\u5355\\u72EC\\u63D0\\u5230\\u4E00\\u4E2Achunk\\u4E2D\\uFF0C\\u751F\\u6210\\u5BF9\\u5E94\\u7684bundle.js\\u3002\\u52A8\\u6001\\u6A21\\u5757\\u4E0D\\u4F1A\\u51FA\\u73B0\\u5728\\u521D\\u59CB\\u7684\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"__webpack_modules__\"), \"\\u91CC\\u3002\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"\\u751F\\u6210\\u7684bundle.js\\u91CC\\uFF0C\\u4F1A\\u628A\\u81EA\\u5DF1\\u6267\\u884C\\u4EE3\\u7801\\u548C\\u6A21\\u5757id\\u90FDpush\\u5230\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"chunkLoadingGlobal\"), \"\\u91CC\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"__webpack_require__.e\"), \"\\u4F1A\\u6267\\u884C\\u4E00\\u7CFB\\u5217promise\\u3002\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"\\u52A0\\u8F7D\\u7684promise\\u51FD\\u6570\\u5185\\uFF0C\\u4F1A\\u901A\\u8FC7script\\u6807\\u7B7E\\u52A0\\u8F7Dbundle.js\\u3002\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"\\u52A0\\u8F7D\\u6210\\u529F\\u540E\\u4F1A\\u6267\\u884C\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"webpackJsonpCallback\"), \"\\u51FD\\u6570\\uFF0C\\u5C06\\u8BE5\\u6A21\\u5757\\u7684id\\u548C\\u6DFB\\u52A0\\u5230\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"__webpack_modules__\"), \"\\u4E0A\\u3002\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"promise\\u6267\\u884C\\u4E0B\\u4E00\\u6B65\\u3002\\u8C03\\u7528\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"__webpack_require__\"), \"\\u6267\\u884C\\u6A21\\u5757\\u4EE3\\u7801\\u3002\"))), mdx(\"blockquote\", {\n    parentName: \"li\"\n  }, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"\\u8BE6\\u7EC6\\u53C2\\u8003\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://blog.csdn.net/letterTiger/article/details/136977101\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow noopener noreferrer\"\n  }, \"https://blog.csdn.net/letterTiger/article/details/136977101\"))))));\n}\n;\nMDXContent.isMDXComponent = true;","timeToRead":1,"excerpt":"周所周知，ES6引入了官方的模块化方案 import 和 export 。在此之前，js想要实现模块化开发，需要依赖于非官方方案。 模块化历史 最早期：IIFE 最开始为了避免在全局作用域执行代码，开发者使用IIFE将代码封装在函数作用域内。 CommonJs…","frontmatter":{"title":"Webpack是如何处理ESM的","description":"介绍一段import和require的代码在webpack中如何被打包","cover":{"publicURL":"/leon-blog/static/eb777c876db5fcd5b1f3e2bec74894d4/webpack-package.jpg","childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAIDAQX/xAAWAQEBAQAAAAAAAAAAAAAAAAAAAQL/2gAMAwEAAhADEAAAAedaK3LGh//EABkQAAIDAQAAAAAAAAAAAAAAAAABAgMQEv/aAAgBAQABBQIshzjxH//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABgQAAIDAAAAAAAAAAAAAAAAAAABESAh/9oACAEBAAY/AhbNf//EABkQAAMAAwAAAAAAAAAAAAAAAAABMRARIf/aAAgBAQABPyGQau3YSKxB/9oADAMBAAIAAwAAABBYP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABwQAQADAAIDAAAAAAAAAAAAAAEAESExQXGB0f/aAAgBAQABPxBLCtuNwduVvyKll+iJVsteVawvqc3mf//Z"},"backgroundColor":"transparent","images":{"fallback":{"src":"/leon-blog/static/eb777c876db5fcd5b1f3e2bec74894d4/1519a/webpack-package.jpg","srcSet":"/leon-blog/static/eb777c876db5fcd5b1f3e2bec74894d4/d4611/webpack-package.jpg 405w,\n/leon-blog/static/eb777c876db5fcd5b1f3e2bec74894d4/d3316/webpack-package.jpg 810w,\n/leon-blog/static/eb777c876db5fcd5b1f3e2bec74894d4/1519a/webpack-package.jpg 1620w","sizes":"(min-width: 1620px) 1620px, 100vw"},"sources":[{"srcSet":"/leon-blog/static/eb777c876db5fcd5b1f3e2bec74894d4/96c94/webpack-package.avif 405w,\n/leon-blog/static/eb777c876db5fcd5b1f3e2bec74894d4/7a807/webpack-package.avif 810w,\n/leon-blog/static/eb777c876db5fcd5b1f3e2bec74894d4/f9374/webpack-package.avif 1620w","type":"image/avif","sizes":"(min-width: 1620px) 1620px, 100vw"},{"srcSet":"/leon-blog/static/eb777c876db5fcd5b1f3e2bec74894d4/0c116/webpack-package.webp 405w,\n/leon-blog/static/eb777c876db5fcd5b1f3e2bec74894d4/fa83c/webpack-package.webp 810w,\n/leon-blog/static/eb777c876db5fcd5b1f3e2bec74894d4/353a3/webpack-package.webp 1620w","type":"image/webp","sizes":"(min-width: 1620px) 1620px, 100vw"}]},"width":1620,"height":810}}},"coverAlt":"封面","datePublished":"2023-02-08 21:52:32","dateModified":"2023-02-08 21:52:32","category":"经验总结","tags":["前端","架构","造轮子"]},"fields":{"slug":"/webpack是如何处理-esm的","route":"/webpack是如何处理-esm的","pathName":"/leon-blog/webpack是如何处理-esm的","url":"https://missmess.github.io/leon-blog/webpack是如何处理-esm的"},"internal":{"content":"---\ntitle: \"Webpack是如何处理ESM的\"\ncover: ../static/assets/webpack-package.jpg\ncoverAlt: \"封面\"\ndescription: \"介绍一段import和require的代码在webpack中如何被打包\"\ndatePublished: \"2023-02-08 21:52:32\"\ndateModified: \"2023-02-08 21:52:32\"\ncategory: \"经验总结\"\ntags:\n  - 前端\n  - 架构\n  - 造轮子\n---\n\n周所周知，ES6引入了官方的模块化方案`import`和`export`。在此之前，js想要实现模块化开发，需要依赖于非官方方案。\n\n#### 模块化历史\n\n**最早期：IIFE**\n\n最开始为了避免在全局作用域执行代码，开发者使用IIFE将代码封装在函数作用域内。\n\n```javascript\nvar mathToolModule = (function () {\n    var pi = 3.141592653\n    function add (a, b) {\n        return a + b\n    }\n    return {\n        pi: pi,\n        add: add\n    }\n})()\n\nmathToolModule.add(1, 2)\n```\n\n**CommonJs**\n\n比较常用的模块化方案，使用`require`和`module.exports`来导入/导出模块。现今的Node.js仍然使用该模块化标准。\n\n```javascript\n// toolsModule.js\nmodule.exports = {\n    add: function (a, b) {\n        return a + b\n    }\n}\n\n// main.js\nconst mathToolModule = require('./toolsModule.js');\nmathToolModule.add(1, 2)\n```\n\n缺点很明显，因为是同步加载，所以在浏览器上网络差的情况下会比较慢影响性能。而Node服务端因为都在本地所以不影响。\n\n**AMD（Async Module Definition）**\n\n`CommonJs`实现不了异步加载模块，所以出现了AMD标准。`RequireJs`是AMD的一种实现：\n\n```javascript\n// 定义一个mathTools模块\ndefine('mathTools', [], function () {\n    var add = function (a, b) {\n        return a + b;\n    };\n    return {\n        add: add,\n    };\n});\n\n// 引入math作为依赖模块\nrequire(['mathTools'], function (math) {\n    math.add(1, 2)\n})\n```\n\n通过引入依赖数组，并异步加载全部的模块，等待加载完成后再运行内部代码。缺点是依赖数组前置了，所以用或者不用都会加载这些模块。没有按需加载。\n\n**CMD（Common Module Definition））**\n\n阿里巴巴提出的一种前端模块化规范。CMD规范主要用于`Sea.js`模块加载器。特点是按需加载，依赖就近（依赖可以写在代码任意地方，只有使用时才去解析依赖）。\n\n```javascript\n// 定义math模块\ndefine(function (require, exports, module) {\n    exports.add = function (a, b) {\n        return a + b;\n    }\n})\n\n// 使用math模块\ndefine(function (require, exports, module) {\n    var mathTools = require('./math.js');\n    mathTools.add(1, 2)\n})\n```\n\n`require`和`exports`都作为`define`内函数的参数。分别代表自己要使用什么模块，以及导出哪些变量。\n\n**UMD（Universal Module Definition）**\n\nUMD规范的目的是让一个模块能同时在不同环境下运行。不论是浏览器、Node.js还是其他环境。它兼容了AMD、CommonJs以及全局变量。\n\n```javascript\n// mathTools.js\n(function (root, factory) {\n    if (typeof define === 'function' && define.amd) {\n        // AMD\n        define([], factory);\n    } else if (typeof module === 'object' && module.exports) {\n        // CommonJS\n        module.exports = factory();\n    } else {\n        // 浏览器全局变量\n        root.mathTools = factory();\n    }\n}(this, function () {\n    // 主体代码\n    return {\n        add: function (a, b) {\n            return a + b\n        }\n    }\n}));\n\n// main.js\n(function (root, factory) {\n    if (typeof define === 'function' && define.amd) {\n        // AMD\n        define(['mathTools'], factory);\n    } else if (typeof module === 'object' && module.exports) {\n        // CommonJS\n        module.exports = factory(require('mathTools'));\n    } else {\n        // 浏览器全局变量\n        root.myModule = factory(root.mathTools);\n    }\n}(this, function (mathTools) {\n    // 主体代码\n    mathTools.add(1, 2)\n}));\n```\n\n可以看到每个模块的主体代码都在`factory函数`里。模块执行时使用IFFE：判断当前使用哪种模块规范，并把自己导出为当前的模块规范。从而让每个模块都能运行在各种模块规范下。\n\n**ESM（EMCAScript Module）**\n\nES6从语言层面实现了模块化。旨在统一标准。使用`import`导入模块，`export`导出模块。\n\n```javascript\n// mathTools.js\nexport default {\n    add: (a, b) => a + b\n}\n\n// main.js\nimport add from 'mathTools'\n\nadd(1, 2)\n```\n\n并且ESM慢慢成为浏览器的标配。使用`<script type=\"module\">`就可以定义一个脚本使用该模块规范。在node端也支持ESM。通过在package.json里配置`type: \"module\"`或者使用`.mjs`后缀，就可以使用ESM。\n\n#### ESM和CommonJs的模块加载差异\n\nwebpack可以通过配置[output.type](https://www.webpackjs.com/configuration/output/#outputlibrarytype)将代码打包成各种模块规范的格式，我们可以根据库的目标运行环境来更改模块类型。如果要兼容，可以选`umd`格式。\n\n本次主要对比一下ESM和CJS的模块加载机制的不同。\n\n- esm是静态加载的，即`import`语句是在编译时静态解析和优化的。而commonjs是动态加载的，`require`语句在运行代码时解析。（所以`import`语句只能写在（top-leve）顶层作用域，不可在{}块级作用域中。而`require`无限制）。\n\n- 浏览器中，esm是异步加载的。而commonjs是同步加载的。\n\n- esm模块导出的是引用，而commonjs导出的是副本。[看下面](#其他)\n\n**ESM在浏览器中是如何加载的**\n\n定义了`type=\"module\"`的js脚本中可以直接使用esm语法。\n\nesm脚本的加载是异步的。也就是说下面的代码是等同的：\n\n```html\n<script type=\"module\" src=\"./index.js\"></script>\n<script type=\"module\" src=\"./index.js\" defer></script>\n```\n\n*BTW：`defer`属性的脚本会在html解析完成后执行并且保证defer脚本的执行顺序。而`async`脚本会在该脚本下载完成后立即执行，执行顺序不保证，执行时间也不保证。所以`async`适合与dom无关，独立运行的脚本。而`defer`适合不需要阻塞html解析的异步脚本。*\n\n*执行顺序：html开始解析 => 同步script按顺序执行 => html解析完成 => defer脚本按顺序执行 => DOMContentLoaded事件 => 其他资源加载（link外部样式表，img的图片资源） => 全部完成触发onload事件*\n\nesm是编译时静态分析的，虽然在浏览器中使用esm没有了编译阶段。但静态分析仍然存在。浏览器加载esm的步骤：\n\n1. 入口：从`<script type=\"module\">`标签的模块入口，开始解析和加载。\n\n2. 预解析模块：在执行代码之前，浏览器先预解析模块文本，确定模块依赖关系，形成模块关系图。\n\n3. 加载模块：并行加载和实例化模块，确定导出对象。*（在此过程，浏览器可以做一些优化，比如tree shaking掉未使用的导出）*。\n\n4. 执行模块代码：到这里开始，按照深度优先顺序，执行模块的代码（最深的模块最先执行）。并且每个模块的代码只会执行一次（防止循环依赖）。\n\n比如以下情况：\n\n```javascript\n// index.js\nconsole.log(\"1\");\nimport \"./esm-a.js\";\nconsole.log(\"2\");\nimport \"./esm-b.js\";\nconsole.log(\"3\");\n\n// esm-a.js\nconsole.log(\"a\");\nexport default {}\n\n// esm-b.js\nconsole.log(\"b\");\nexport default {}\n```\n\n输出的结果为：a => b => 1 => 2 => 3\n\n如果在`esm-a.js`内部加上`import \"./esm-b.js\"`，那输出的结果就变为：b => a => 1 => 2 => 3\n\n> 详细参考：https://tech.taobao.org/news/go81zn\n\n同比之下，commonjs因为是同步执行的，加载机制就简单很多。还是上面的例子，改为commonjs：\n\n```javascript\n// index.js\nconsole.log(\"1\");\nrequire(\"./esm-a.js\");\nconsole.log(\"2\");\nrequire(\"./esm-b.js\");\nconsole.log(\"3\");\n```\n\n输出结果为：1 => a => 2 => b => 3\n\n同时，esm也支持动态导入模块，使用`import()`函数，可以在任意位置调用，无需top-level。比如`import(\"./esm-a.js\")`会返回一个Promise，在Promise里可以获取到模块导出的内容。动态导入的模块只在调用`import()`函数时，才被解析、加载和执行。\n\n```javascript\n// index.js\nconsole.log(\"1\");\nimport(\"./esm-a.js\")\nconsole.log(\"2\");\nimport(\"./esm-b.js\")\nconsole.log(\"3\");\n```\n\n输出结果为：1 => 2 => 3 => a => b\n\n**Node端处理ESM**\n\nNode端解析和执行ESM的逻辑和顺序，和浏览器端如出一辙。无非是Node支持通过裸模块名加载本地模块。比如`import fs from 'fs'`。它会通过不断往上查找`node_modules`目录来加载对应模块。\n\n#### Webpack上编译ESM和CommonJs\n\n前面所讲的都是浏览器或Node对ESM模块的原生支持，而我们常常会使用Webpack这样的打包工具，对前端应用进行构建打包。而Webpac目前对ESM支持还有限，它在构建ESM时，并不会保留ESM，而是转译成另一种实现。最后通过`webpack.config.js`设置`library.type`来生成最终的输出格式。\n\n```javascript\n// webpack.config.js\nmodule.exports = {\n  entry: \"./index.js\",\n  output: {\n    filename: \"bundle.js\",\n    path: path.resolve(__dirname, \"dist\"),\n    globalObject: \"this\",\n    library: {\n      type: \"umd\", // 配置模块输出格式为umd\n    },\n  },\n}\n```\n\n我们看一下Webpack在development模式下是如何实现esm模块的。*（production模式下看不出来，因为做了代码压缩、treeshaking、模块合并等）。*拿下面的例子来看esm静态导入和动态导入模块，webpack编译后是什么样子：\n\n```javascript\n// ========== index.js - 编译前\nconsole.log(\"1\");\n{\n    import(\"./esm-a.js\").then(() => {\n        console.log(\"esm-a loaded\");\n    })\n}\nconsole.log(\"2\");\nimport \"./esm-b.js\"\nconsole.log(\"3\");\n\n// ========== index.js - 编译后\n__webpack_require__.r(__webpack_exports__);\nvar _esm_b_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./esm-b.js\");\nconsole.log(\"1\");\n{\n    __webpack_require__.e(\"esm-a_js\").then(__webpack_require__.bind(__webpack_require__, \"./esm-a.js\")).then(() => {\n        console.log(\"esm-a loaded\");\n    })\n}\nconsole.log(\"2\");\nconsole.log(\"3\");\n```\n\n可以看到静态import的模块，被提到了代码顶部，并通过`__webpack_require__()`函数加载模块。动态import()的模块还在原来的位置，通过`__webpack_require__.e`Promise化后再加载对应模块，并在模块加载后执行回调函数。\n\nwebpack处理CommonJs的就比较简单了。直接使用`__webpack_require__()`加载模块即可。\n\n```javascript\n// ========== index.js - 编译前\nconsole.log(\"1\");\nrequire(\"./esm-b.js\");\nconsole.log(\"2\");\n\n// ========== index.js - 编译后\nconsole.log(\"1\");\n__webpack_require__(\"./esm-b.js\");\nconsole.log(\"2\");\n```\n\n**__webpack_require__**\n\n也顺便看看webpack的`__webpack_require__()`方法做了什么。\n\n```javascript\n// __webpack_modules__是一个对象。\nvar __webpack_modules__ = ({\n    \"./esm-b.js\": ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        eval(/** code省略 */);\n    }),\n\n    \"./index.js\": ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n        eval(\"console.log(\\\"1\\\");\\n__webpack_require__(/*! ./esm-b.js */ \\\"./esm-b.js\\\");\\nconsole.log(\\\"2\\\");\\n\\n//# sourceURL=webpack://esm/./index.js?\");\n    })\n});\n\n// 模块缓存\nvar __webpack_module_cache__ = {};\n\n// require函数实现，用来加载模块\nfunction __webpack_require__(moduleId) {\n  var cachedModule = __webpack_module_cache__[moduleId]\n  if (cachedModule !== undefined) {\n    return cachedModule.exports\n  }\n\n  var module = __webpack_module_cache__[moduleId] = {exports: {}}\n\n  __webpack_modules__[moduleId](module, module.exports, __webpack_require__)\n\n  return module.exports\n}\n\n// 执行导入入口文件\n__webpack_require__(\"./index.js\");\n```\n\n可以看到，`__webpack_modules__`用来存储所有的模块（不包含异步模块）。以模块路径为key，值为对应模块的工厂函数。\n\n`__webpack_require__`函数用来加载模块。它会首先检查缓存，如果有缓存就直接返回缓存。否则调用`__webpack_modules__`中对应模块的工厂函数。\n\n工厂函数内，直接`eval`执行了编译后的模块代码。模块代码的作用域限定在函数内，工厂函数提供的三个参数即模块代码的执行上下文。执行模块代码时：使用`__webpack_require__`导入其他模块。导出内容输出到`__webpack_exports__`上。\n\n最后执行入口文件的require。从而形成了整个闭环。\n\n#### 其他\n\n1. ESM的特性之一就是导出的是引用，假如值被某模块修改了，其他模块获取的仍是最新值。ESM官方实现应该是导出的变量是引用，都是指向同一块内存地址。Webpack在实现这个特性时，是通过`Object.definedProperty`设置get()函数。原始值始终是在原模块内，其他模块通过get()取到的始终是原模块内的值。\n\n    ```javascript\n    // esm-b.js - 编译前\n    export var a = 1\n    export function setA() {\n        a++\n    }\n\n    // esm-b.js - 编译后并展开__webpack_require__.d\n    Object.defineProperty(__webpack_exports__, 'a', {\n        get: () => (a),\n    });\n    Object.defineProperty(__webpack_exports__, 'setA', {\n        get: () => (setA)\n    });\n\n    var a = 1\n    function setA() {\n        a++\n    }\n    ```\n\n2. 对于动态加载的模块，前面我们看到了是通过`__webpack_require__.e`处理的。简单说一下：\n\n    - 动态模块会被单独提到一个chunk中，生成对应的bundle.js。动态模块不会出现在初始的`__webpack_modules__`里。\n\n    - 生成的bundle.js里，会把自己执行代码和模块id都push到`chunkLoadingGlobal`里\n\n    - `__webpack_require__.e`会执行一系列promise。\n    \n    - 加载的promise函数内，会通过script标签加载bundle.js。\n\n    - 加载成功后会执行`webpackJsonpCallback`函数，将该模块的id和添加到`__webpack_modules__`上。\n\n    - promise执行下一步。调用`__webpack_require__`执行模块代码。\n\n    > 详细参考https://blog.csdn.net/letterTiger/article/details/136977101"}}},"pageContext":{"slug":"/webpack是如何处理-esm的","nexttitle":"一文详解前端工程化基础架构","nextslug":"/fe-infra","prevtitle":"React Fiber架构总览","prevslug":"/react-fiber-struct","relatedPosts":[{"title":"谈一谈React18的批处理","description":"介绍React18的并发和批处理相关知识","coverImg":{"layout":"constrained","placeholder":{"fallback":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAECAwX/xAAWAQEBAQAAAAAAAAAAAAAAAAADAAL/2gAMAwEAAhADEAAAAeclkhySZv/EABkQAQACAwAAAAAAAAAAAAAAAAERMQACEv/aAAgBAQABBQKWBOm2trz/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAZEAACAwEAAAAAAAAAAAAAAAAAECEiUYH/2gAIAQEABj8CLYQuL//EABsQAAICAwEAAAAAAAAAAAAAAAABETEQIUFx/9oACAEBAAE/IWxdkFYRnwUFXjH/2gAMAwEAAgADAAAAEKP/AP/EABcRAQADAAAAAAAAAAAAAAAAAAEQESH/2gAIAQMBAT8QS8j/xAAWEQADAAAAAAAAAAAAAAAAAAABECH/2gAIAQIBAT8QMX//xAAcEAEAAwACAwAAAAAAAAAAAAABABEhMUFRYfD/2gAIAQEAAT8Q4Q5WAQPCaL9qy5y7yEGo6n2PEtn/2Q=="},"backgroundColor":"transparent","images":{"fallback":{"src":"/leon-blog/static/b1d2ff9419b4177e3d87c06130565a38/56675/react18-feature.jpg","srcSet":"/leon-blog/static/b1d2ff9419b4177e3d87c06130565a38/9fa5a/react18-feature.jpg 184w,\n/leon-blog/static/b1d2ff9419b4177e3d87c06130565a38/2a971/react18-feature.jpg 367w,\n/leon-blog/static/b1d2ff9419b4177e3d87c06130565a38/56675/react18-feature.jpg 734w","sizes":"(min-width: 734px) 734px, 100vw"},"sources":[{"srcSet":"/leon-blog/static/b1d2ff9419b4177e3d87c06130565a38/9d028/react18-feature.avif 184w,\n/leon-blog/static/b1d2ff9419b4177e3d87c06130565a38/fcbd2/react18-feature.avif 367w,\n/leon-blog/static/b1d2ff9419b4177e3d87c06130565a38/61ef5/react18-feature.avif 734w","type":"image/avif","sizes":"(min-width: 734px) 734px, 100vw"},{"srcSet":"/leon-blog/static/b1d2ff9419b4177e3d87c06130565a38/ef27d/react18-feature.webp 184w,\n/leon-blog/static/b1d2ff9419b4177e3d87c06130565a38/6963a/react18-feature.webp 367w,\n/leon-blog/static/b1d2ff9419b4177e3d87c06130565a38/bce1f/react18-feature.webp 734w","type":"image/webp","sizes":"(min-width: 734px) 734px, 100vw"}]},"width":734,"height":368},"coverImageAlt":"封面","datePublished":"2024-06-24T19:28:20.000Z","dateModified":"2024-06-24T19:28:20.000Z","category":"经验总结","tags":["前端","React","架构","造轮子"],"excerpt":"最近笔者腾出了大把的时间，学习了一下React18。 导航 什么是批处理？ React18之前的批处理 React18的自动批处理 批处理原理 退出批处理 回首React过往的一些重大版本： React 16.0（2017年9月）：带来了全新的Fiber…","timeToRead":1,"slug":"/react-batch","route":"/react-batch","pathName":"/leon-blog/react-batch","url":"https://missmess.github.io/leon-blog/react-batch"},{"title":"React Fiber架构之工作循环","description":"介绍React16带来的全新fiber架构，其中的WorkLoop","coverImg":{"layout":"constrained","placeholder":{"fallback":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAECBf/EABYBAQEBAAAAAAAAAAAAAAAAAAABAv/aAAwDAQACEAMQAAABxpq1QP/EABYQAAMAAAAAAAAAAAAAAAAAAAABIP/aAAgBAQABBQIc/wD/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAY/Al//xAAaEAACAgMAAAAAAAAAAAAAAAABEQAhIEGR/9oACAEBAAE/IQndxNAdx//aAAwDAQACAAMAAAAQS+//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAcEAEAAgEFAAAAAAAAAAAAAAABABEhEDFBYYH/2gAIAQEAAT8QYKKXkWrmPC7EzycaO8//2Q=="},"backgroundColor":"transparent","images":{"fallback":{"src":"/leon-blog/static/da24c565e170845a9f10394ef98ce91a/38598/react-fiber.jpg","srcSet":"/leon-blog/static/da24c565e170845a9f10394ef98ce91a/3281a/react-fiber.jpg 186w,\n/leon-blog/static/da24c565e170845a9f10394ef98ce91a/3f3c9/react-fiber.jpg 372w,\n/leon-blog/static/da24c565e170845a9f10394ef98ce91a/38598/react-fiber.jpg 743w","sizes":"(min-width: 743px) 743px, 100vw"},"sources":[{"srcSet":"/leon-blog/static/da24c565e170845a9f10394ef98ce91a/1043a/react-fiber.avif 186w,\n/leon-blog/static/da24c565e170845a9f10394ef98ce91a/75542/react-fiber.avif 372w,\n/leon-blog/static/da24c565e170845a9f10394ef98ce91a/4b780/react-fiber.avif 743w","type":"image/avif","sizes":"(min-width: 743px) 743px, 100vw"},{"srcSet":"/leon-blog/static/da24c565e170845a9f10394ef98ce91a/b2901/react-fiber.webp 186w,\n/leon-blog/static/da24c565e170845a9f10394ef98ce91a/f2d3a/react-fiber.webp 372w,\n/leon-blog/static/da24c565e170845a9f10394ef98ce91a/16c74/react-fiber.webp 743w","type":"image/webp","sizes":"(min-width: 743px) 743px, 100vw"}]},"width":743,"height":368.00000000000006},"coverImageAlt":"封面","datePublished":"2023-04-06T19:58:30.000Z","dateModified":"2023-04-06T19:58:30.000Z","category":"经验总结","tags":["前端","React","架构","造轮子"],"excerpt":"在 React Fiber架构总览 中我们提到，React16的新Fiber架构，将老架构的 递归同步的更新 ，替换为 异步可中断的更新 。这个异步可中断指的就是工作循环的执行中断。 本次我们就主要讲一讲：为什么要使用workLoop…","timeToRead":1,"slug":"/react-workloop","route":"/react-workloop","pathName":"/leon-blog/react-workloop","url":"https://missmess.github.io/leon-blog/react-workloop"}]}},"staticQueryHashes":["2792541146","2845918323"]}